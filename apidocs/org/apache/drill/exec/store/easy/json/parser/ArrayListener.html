<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>ArrayListener (Drill : 1.21.2-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.drill.exec.store.easy.json.parser, interface: ArrayListener">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ArrayListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.drill.exec.store.easy.json.parser</a></div>
<h1 title="Interface ArrayListener" class="title">Interface ArrayListener</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="../loader/SimpleArrayListener.html" title="class in org.apache.drill.exec.store.easy.json.loader">SimpleArrayListener</a></code>, <code><a href="../loader/SimpleArrayListener.ListArrayListener.html" title="class in org.apache.drill.exec.store.easy.json.loader">SimpleArrayListener.ListArrayListener</a></code>, <code><a href="../loader/SimpleArrayListener.StructureArrayListener.html" title="class in org.apache.drill.exec.store.easy.json.loader">SimpleArrayListener.StructureArrayListener</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">ArrayListener</span></div>
<div class="block">Represents one level within array. The first time the parser sees the array element,
 it will call the <code>#element(ValueDef)</code> method with the
 look-ahead values visible to the parser. Since JSON is flexible, later
 data shapes may not necessarily follow the first shape. The implementation
 must handle this or throw an error if not supported.
 <p>
 When creating a multi-dimensional array, each array level is built one
 by one. each will receive the same type information (decreased by one
 array level.)
 <p>
 Then, while parsing, the parser calls events on the start and end of the
 array, as well as on each element.
 <p>
 The array listener is an attribute of a value listener, represent the
 "arrayness" of that value, if the value allows an array.

 <h4>Elements</h4>

 The array listener has a child listener that represents each element
 in the array. The structure parser asks this listener to create that
 child on the first element seen for the array. The structure parser
 provides "look-ahead" type information for that element, when available.
 <p>
 Three JSON-specific cases warrant attention:
 <ol>
 <li>The first occurrence of the array is empty: <code>[ ]</code>. In this case,
 the structure parser will defer asking for an element parser (and listener)
 until an actual value appears. The array listener is responsible for
 implementing some kind of "deferred type" logic to wait and see what
 kind of element appears later.</li>
 <li>The first occurrence of the array has, as its first element, a
 <code>null</code> value. The structure parser will ask this listener to create
 an array child for the <code>null</code> value, but the listener has no type
 information. Since null values must be recorded (so we know how many
 appear in each array), the listener is forced to choose a type. Choose
 wisely as there is no way to know what type will appear in the future.</li>
 <li>A generalized form of the above is that the structure parser only
 knows what it sees on the first element when it asks for an element
 child. In a well-formed file, that first token will predict the type
 of all future tokens. But, JSON allows anything. The first element
 might be <code>null</code>, an empty array, or a String. The second element
 could be anything else (a number or an object). The listener, as always
 is responsible for deciding how to handle type changes.</li>
 </ol>

 <h4>Multi-Dimensional Arrays</h4>

 A multi-dimensional array is one of the form <code>[ [ ... </code>, that is,
 the parser returns multiple levels of array start tokens. In this case,
 listeners are structured as:
 <ul>
 <li><code>ObjectListener</code> for the enclosing object which has a</li>
 <li><code>FieldListener</code> for the array value which has a</li>
 <li><code>ArrayListener</code> for the array, which has a</li>
 <li><code>ValueListener</code> for the elements. If the array is 1D,
 the nesting stops here. But if it is 2+D, then the value has a</li>
 <li><code>ArrayListener</code> for the inner array, which has a</li>
 <li><code>ValueListener</code> for the elements. And so on recursively
 for as many levels as needed or the array.</li>
 </ul></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onElementEnd()" class="member-name-link">onElementEnd</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Called after each element of the array.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onElementStart()" class="member-name-link">onElementStart</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Called for each element of the array.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onEnd()" class="member-name-link">onEnd</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Called at the end of a set of values for an array.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onStart()" class="member-name-link">onStart</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Called at the entrance to each level (dimension) of an array.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="onStart()">
<h3>onStart</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">onStart</span>()</div>
<div class="block">Called at the entrance to each level (dimension) of an array.
 That is, called when the structure parser accepts the <code>[</code>
 token.</div>
</section>
</li>
<li>
<section class="detail" id="onElementStart()">
<h3>onElementStart</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">onElementStart</span>()</div>
<div class="block">Called for each element of the array. The array element is represented
 by its own listener which receives the value of the element (if
 scalar) or element events (if structured.)</div>
</section>
</li>
<li>
<section class="detail" id="onElementEnd()">
<h3>onElementEnd</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">onElementEnd</span>()</div>
<div class="block">Called after each element of the array.</div>
</section>
</li>
<li>
<section class="detail" id="onEnd()">
<h3>onEnd</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">onEnd</span>()</div>
<div class="block">Called at the end of a set of values for an array. That is, called
 when the structure parser accepts the <code>]</code> token.</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2023 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
