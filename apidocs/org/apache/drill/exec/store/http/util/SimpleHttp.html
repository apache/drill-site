<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>SimpleHttp (Drill : 1.21.2-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.drill.exec.store.http.util, class: SimpleHttp">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/SimpleHttp.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.drill.exec.store.http.util</a></div>
<h1 title="Class SimpleHttp" class="title">Class SimpleHttp</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.drill.exec.store.http.util.SimpleHttp</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">SimpleHttp</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></span></div>
<div class="block">Performs the actual HTTP requests for the HTTP Storage Plugin. The core
 method is the getInputStream() method which accepts a url and opens an
 InputStream with that URL's contents.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="SimpleHttp.BasicAuthInterceptor.html" class="type-name-link" title="class in org.apache.drill.exec.store.http.util">SimpleHttp.BasicAuthInterceptor</a></code></div>
<div class="col-last even-row-color">
<div class="block">Intercepts requests and adds authentication headers to the request</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="SimpleHttp.RateLimitInterceptor.html" class="type-name-link" title="class in org.apache.drill.exec.store.http.util">SimpleHttp.RateLimitInterceptor</a></code></div>
<div class="col-last odd-row-color">
<div class="block">This interceptor is used in pagination situations or elsewhere when APIs have burst throttling.</div>
</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="SimpleHttp.SimpleHttpBuilder.html" class="type-name-link" title="class in org.apache.drill.exec.store.http.util">SimpleHttp.SimpleHttpBuilder</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final okhttp3.MediaType</code></div>
<div class="col-second even-row-color"><code><a href="#JSON_MEDIA_TYPE" class="member-name-link">JSON_MEDIA_TYPE</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final okhttp3.MediaType</code></div>
<div class="col-second odd-row-color"><code><a href="#XML_MEDIA_TYPE" class="member-name-link">XML_MEDIA_TYPE</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(okhttp3.HttpUrl,java.io.File,org.apache.drill.exec.store.http.util.HttpProxyConfig,org.apache.drill.common.exceptions.CustomErrorContext,org.apache.drill.exec.store.http.paginator.Paginator,org.apache.drill.exec.oauth.PersistentTokenTable,org.apache.drill.exec.store.http.HttpStoragePluginConfig,org.apache.drill.exec.store.http.HttpApiConfig,java.lang.String,java.util.Map,int)" class="member-name-link">SimpleHttp</a><wbr>(okhttp3.HttpUrl&nbsp;url,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;tempDir,
 <a href="HttpProxyConfig.html" title="class in org.apache.drill.exec.store.http.util">HttpProxyConfig</a>&nbsp;proxyConfig,
 <a href="../../../../common/exceptions/CustomErrorContext.html" title="interface in org.apache.drill.common.exceptions">CustomErrorContext</a>&nbsp;errorContext,
 <a href="../paginator/Paginator.html" title="class in org.apache.drill.exec.store.http.paginator">Paginator</a>&nbsp;paginator,
 <a href="../../../oauth/PersistentTokenTable.html" title="class in org.apache.drill.exec.oauth">PersistentTokenTable</a>&nbsp;tokenTable,
 <a href="../HttpStoragePluginConfig.html" title="class in org.apache.drill.exec.store.http">HttpStoragePluginConfig</a>&nbsp;pluginConfig,
 <a href="../HttpApiConfig.html" title="class in org.apache.drill.exec.store.http">HttpApiConfig</a>&nbsp;endpointConfig,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;connection,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;filters,
 int&nbsp;rateLimit)</code></div>
<div class="col-last even-row-color">
<div class="block">This constructor does not have an HttpSubScan and can be used outside the context of the HttpStoragePlugin.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(org.apache.drill.exec.store.http.HttpSubScan,okhttp3.HttpUrl,java.io.File,org.apache.drill.exec.store.http.util.HttpProxyConfig,org.apache.drill.common.exceptions.CustomErrorContext,org.apache.drill.exec.store.http.paginator.Paginator)" class="member-name-link">SimpleHttp</a><wbr>(<a href="../HttpSubScan.html" title="class in org.apache.drill.exec.store.http">HttpSubScan</a>&nbsp;scanDefn,
 okhttp3.HttpUrl&nbsp;url,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;tempDir,
 <a href="HttpProxyConfig.html" title="class in org.apache.drill.exec.store.http.util">HttpProxyConfig</a>&nbsp;proxyConfig,
 <a href="../../../../common/exceptions/CustomErrorContext.html" title="interface in org.apache.drill.common.exceptions">CustomErrorContext</a>&nbsp;errorContext,
 <a href="../paginator/Paginator.html" title="class in org.apache.drill.exec.store.http.paginator">Paginator</a>&nbsp;paginator)</code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#addProxyInfo(okhttp3.OkHttpClient.Builder,org.apache.drill.exec.store.http.util.HttpProxyConfig)" class="member-name-link">addProxyInfo</a><wbr>(okhttp3.OkHttpClient.Builder&nbsp;builder,
 <a href="HttpProxyConfig.html" title="class in org.apache.drill.exec.store.http.util">HttpProxyConfig</a>&nbsp;proxyConfig)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Applies the proxy configuration to the OkHttp3 builder.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="SimpleHttp.html" title="class in org.apache.drill.exec.store.http.util">SimpleHttp</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#apiCall(org.apache.drill.exec.store.http.HttpStoragePlugin,org.apache.drill.exec.store.http.HttpApiConfig,org.apache.drill.exec.server.DrillbitContext,java.util.List)" class="member-name-link">apiCall</a><wbr>(<a href="../HttpStoragePlugin.html" title="class in org.apache.drill.exec.store.http">HttpStoragePlugin</a>&nbsp;plugin,
 <a href="../HttpApiConfig.html" title="class in org.apache.drill.exec.store.http">HttpApiConfig</a>&nbsp;endpointConfig,
 <a href="../../../server/DrillbitContext.html" title="class in org.apache.drill.exec.server">DrillbitContext</a>&nbsp;context,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;args)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">This function makes an API call and returns a string of the parsed results.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="SimpleHttp.SimpleHttpBuilder.html" title="class in org.apache.drill.exec.store.http.util">SimpleHttp.SimpleHttpBuilder</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#builder()" class="member-name-link">builder</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#buildParameterList(org.apache.drill.exec.expr.holders.NullableVarCharHolder%5B%5D)" class="member-name-link">buildParameterList</a><wbr>(<a href="../../../expr/holders/NullableVarCharHolder.html" title="class in org.apache.drill.exec.expr.holders">NullableVarCharHolder</a>[]&nbsp;inputReaders)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Accepts a list of input readers and converts that into an ArrayList of Strings</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>okhttp3.FormBody.Builder</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#buildPostBody(java.util.Map,java.lang.String)" class="member-name-link">buildPostBody</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;filters,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;postBody)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This function is used to push filters down to the post body rather than the URL query string.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#decodedURL(okhttp3.HttpUrl)" class="member-name-link">decodedURL</a><wbr>(okhttp3.HttpUrl&nbsp;url)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the URL-decoded URL.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getDefaultParameterValue(okhttp3.HttpUrl,java.lang.String)" class="member-name-link">getDefaultParameterValue</a><wbr>(okhttp3.HttpUrl&nbsp;url,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;parameter)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">This function is used to extract the default parameter supplied in a URL.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="../HttpApiConfig.html" title="class in org.apache.drill.exec.store.http">HttpApiConfig</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getEndpointConfig(java.lang.String,org.apache.drill.exec.store.http.HttpStoragePluginConfig)" class="member-name-link">getEndpointConfig</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;endpoint,
 <a href="../HttpStoragePluginConfig.html" title="class in org.apache.drill.exec.store.http">HttpStoragePluginConfig</a>&nbsp;pluginConfig)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">This function is used to obtain the configuration information for a given API in the HTTP UDF.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getInputStream()" class="member-name-link">getInputStream</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns an InputStream based on the URL and config in the scanSpec.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="HttpProxyConfig.html" title="class in org.apache.drill.exec.store.http.util">HttpProxyConfig</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getProxySettings(org.apache.drill.exec.store.http.HttpStoragePluginConfig,com.typesafe.config.Config,okhttp3.HttpUrl)" class="member-name-link">getProxySettings</a><wbr>(<a href="../HttpStoragePluginConfig.html" title="class in org.apache.drill.exec.store.http">HttpStoragePluginConfig</a>&nbsp;config,
 com.typesafe.config.Config&nbsp;drillConfig,
 okhttp3.HttpUrl&nbsp;url)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getRequestAndStreamResponse(java.lang.String)" class="member-name-link">getRequestAndStreamResponse</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;url)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getRequestAndStringResponse(java.lang.String)" class="member-name-link">getRequestAndStringResponse</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;url)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getResponseCode()" class="member-name-link">getResponseCode</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the HTTP response code from the HTTP call.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getResponseMessage()" class="member-name-link">getResponseMessage</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the HTTP response code from the HTTP call.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getResponseProtocol()" class="member-name-link">getResponseProtocol</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the HTTP response code from the HTTP call.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getResponseURL()" class="member-name-link">getResponseURL</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the HTTP response code from the HTTP call.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getResultsFromApiCall()" class="member-name-link">getResultsFromApiCall</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="../HttpStoragePlugin.html" title="class in org.apache.drill.exec.store.http">HttpStoragePlugin</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getStoragePlugin(java.lang.String,org.apache.drill.exec.server.DrillbitContext)" class="member-name-link">getStoragePlugin</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pluginName,
 <a href="../../../server/DrillbitContext.html" title="class in org.apache.drill.exec.server">DrillbitContext</a>&nbsp;context)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">This function will return a <a href="../HttpStoragePlugin.html" title="class in org.apache.drill.exec.store.http"><code>HttpStoragePlugin</code></a> for use in the HTTP UDFs.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getURLParameters(okhttp3.HttpUrl)" class="member-name-link">getURLParameters</a><wbr>(okhttp3.HttpUrl&nbsp;url)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">APIs are sometimes structured with parameters in the URL itself.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#hasURLParameters(okhttp3.HttpUrl)" class="member-name-link">hasURLParameters</a><wbr>(okhttp3.HttpUrl&nbsp;url)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns true if the url has url parameters, as indicated by the presence of
 {param} in a url.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static okhttp3.ResponseBody</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#makeSimpleGetRequest(java.lang.String)" class="member-name-link">makeSimpleGetRequest</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;url)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#mapPositionalParameters(java.lang.String,java.util.List)" class="member-name-link">mapPositionalParameters</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rawUrl,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;params)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#mapURLParameters(okhttp3.HttpUrl,java.util.Map)" class="member-name-link">mapURLParameters</a><wbr>(okhttp3.HttpUrl&nbsp;url,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;filters)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Used for APIs which have parameters in the URL.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected okhttp3.OkHttpClient</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setupHttpClient()" class="member-name-link">setupHttpClient</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Configures the OkHTTP3 server object with configuration info from the user.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#url()" class="member-name-link">url</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#validateUrl(java.lang.String)" class="member-name-link">validateUrl</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;url)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Validates a URL.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone--" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize--" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="JSON_MEDIA_TYPE">
<h3>JSON_MEDIA_TYPE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">okhttp3.MediaType</span>&nbsp;<span class="element-name">JSON_MEDIA_TYPE</span></div>
</section>
</li>
<li>
<section class="detail" id="XML_MEDIA_TYPE">
<h3>XML_MEDIA_TYPE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">okhttp3.MediaType</span>&nbsp;<span class="element-name">XML_MEDIA_TYPE</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.apache.drill.exec.store.http.HttpSubScan,okhttp3.HttpUrl,java.io.File,org.apache.drill.exec.store.http.util.HttpProxyConfig,org.apache.drill.common.exceptions.CustomErrorContext,org.apache.drill.exec.store.http.paginator.Paginator)">
<h3>SimpleHttp</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">SimpleHttp</span><wbr><span class="parameters">(<a href="../HttpSubScan.html" title="class in org.apache.drill.exec.store.http">HttpSubScan</a>&nbsp;scanDefn,
 okhttp3.HttpUrl&nbsp;url,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;tempDir,
 <a href="HttpProxyConfig.html" title="class in org.apache.drill.exec.store.http.util">HttpProxyConfig</a>&nbsp;proxyConfig,
 <a href="../../../../common/exceptions/CustomErrorContext.html" title="interface in org.apache.drill.common.exceptions">CustomErrorContext</a>&nbsp;errorContext,
 <a href="../paginator/Paginator.html" title="class in org.apache.drill.exec.store.http.paginator">Paginator</a>&nbsp;paginator)</span></div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(okhttp3.HttpUrl,java.io.File,org.apache.drill.exec.store.http.util.HttpProxyConfig,org.apache.drill.common.exceptions.CustomErrorContext,org.apache.drill.exec.store.http.paginator.Paginator,org.apache.drill.exec.oauth.PersistentTokenTable,org.apache.drill.exec.store.http.HttpStoragePluginConfig,org.apache.drill.exec.store.http.HttpApiConfig,java.lang.String,java.util.Map,int)">
<h3>SimpleHttp</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">SimpleHttp</span><wbr><span class="parameters">(okhttp3.HttpUrl&nbsp;url,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;tempDir,
 <a href="HttpProxyConfig.html" title="class in org.apache.drill.exec.store.http.util">HttpProxyConfig</a>&nbsp;proxyConfig,
 <a href="../../../../common/exceptions/CustomErrorContext.html" title="interface in org.apache.drill.common.exceptions">CustomErrorContext</a>&nbsp;errorContext,
 <a href="../paginator/Paginator.html" title="class in org.apache.drill.exec.store.http.paginator">Paginator</a>&nbsp;paginator,
 <a href="../../../oauth/PersistentTokenTable.html" title="class in org.apache.drill.exec.oauth">PersistentTokenTable</a>&nbsp;tokenTable,
 <a href="../HttpStoragePluginConfig.html" title="class in org.apache.drill.exec.store.http">HttpStoragePluginConfig</a>&nbsp;pluginConfig,
 <a href="../HttpApiConfig.html" title="class in org.apache.drill.exec.store.http">HttpApiConfig</a>&nbsp;endpointConfig,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;connection,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;filters,
 int&nbsp;rateLimit)</span></div>
<div class="block">This constructor does not have an HttpSubScan and can be used outside the context of the HttpStoragePlugin.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>url</code> - The URL for an HTTP request</dd>
<dd><code>tempDir</code> - Temp directory for caching</dd>
<dd><code>proxyConfig</code> - Proxy configuration for making API calls</dd>
<dd><code>errorContext</code> - The error context for error messages</dd>
<dd><code>paginator</code> - The <a href="../paginator/Paginator.html" title="class in org.apache.drill.exec.store.http.paginator"><code>Paginator</code></a> object for pagination.</dd>
<dd><code>tokenTable</code> - The OAuth token table</dd>
<dd><code>pluginConfig</code> - HttpStoragePlugin configuration.  The plugin obtains OAuth and timeout info from this config.</dd>
<dd><code>endpointConfig</code> - The</dd>
<dd><code>connection</code> - The name of the connection</dd>
<dd><code>filters</code> - A Key/value set of filters and values</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="builder()">
<h3>builder</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="SimpleHttp.SimpleHttpBuilder.html" title="class in org.apache.drill.exec.store.http.util">SimpleHttp.SimpleHttpBuilder</a></span>&nbsp;<span class="element-name">builder</span>()</div>
</section>
</li>
<li>
<section class="detail" id="setupHttpClient()">
<h3>setupHttpClient</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">okhttp3.OkHttpClient</span>&nbsp;<span class="element-name">setupHttpClient</span>()</div>
<div class="block">Configures the OkHTTP3 server object with configuration info from the user.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>OkHttpClient configured server</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="url()">
<h3>url</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">url</span>()</div>
</section>
</li>
<li>
<section class="detail" id="addProxyInfo(okhttp3.OkHttpClient.Builder,org.apache.drill.exec.store.http.util.HttpProxyConfig)">
<h3>addProxyInfo</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addProxyInfo</span><wbr><span class="parameters">(okhttp3.OkHttpClient.Builder&nbsp;builder,
 <a href="HttpProxyConfig.html" title="class in org.apache.drill.exec.store.http.util">HttpProxyConfig</a>&nbsp;proxyConfig)</span></div>
<div class="block">Applies the proxy configuration to the OkHttp3 builder.  This ensures that proxy configurations
 will be consistent across HTTP REST connections.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - The input OkHttp3 builder</dd>
<dd><code>proxyConfig</code> - The proxy configuration</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getInputStream()">
<h3>getInputStream</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a></span>&nbsp;<span class="element-name">getInputStream</span>()</div>
<div class="block">Returns an InputStream based on the URL and config in the scanSpec. If anything goes wrong
 the method throws a UserException.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>An Inputstream of the data from the URL call. The caller is responsible for calling
         close() on the InputStream.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getResultsFromApiCall()">
<h3>getResultsFromApiCall</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getResultsFromApiCall</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getProxySettings(org.apache.drill.exec.store.http.HttpStoragePluginConfig,com.typesafe.config.Config,okhttp3.HttpUrl)">
<h3>getProxySettings</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="HttpProxyConfig.html" title="class in org.apache.drill.exec.store.http.util">HttpProxyConfig</a></span>&nbsp;<span class="element-name">getProxySettings</span><wbr><span class="parameters">(<a href="../HttpStoragePluginConfig.html" title="class in org.apache.drill.exec.store.http">HttpStoragePluginConfig</a>&nbsp;config,
 com.typesafe.config.Config&nbsp;drillConfig,
 okhttp3.HttpUrl&nbsp;url)</span></div>
</section>
</li>
<li>
<section class="detail" id="getResponseCode()">
<h3>getResponseCode</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getResponseCode</span>()</div>
<div class="block">Gets the HTTP response code from the HTTP call.  Note that this value
 is only available after the getInputStream() method has been called.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>int value of the HTTP response code</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getResponseMessage()">
<h3>getResponseMessage</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getResponseMessage</span>()</div>
<div class="block">Gets the HTTP response code from the HTTP call.  Note that this value
 is only available after the getInputStream() method has been called.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>int of HTTP response code</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getResponseProtocol()">
<h3>getResponseProtocol</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getResponseProtocol</span>()</div>
<div class="block">Gets the HTTP response code from the HTTP call.  Note that this value
 is only available after the getInputStream() method has been called.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The HTTP response protocol</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getResponseURL()">
<h3>getResponseURL</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getResponseURL</span>()</div>
<div class="block">Gets the HTTP response code from the HTTP call.  Note that this value
 is only available after the getInputStream() method has been called.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The HTTP response URL</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="buildPostBody(java.util.Map,java.lang.String)">
<h3>buildPostBody</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">okhttp3.FormBody.Builder</span>&nbsp;<span class="element-name">buildPostBody</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;filters,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;postBody)</span></div>
<div class="block">This function is used to push filters down to the post body rather than the URL query string.
 It will also add the static parameters to the post body as well.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>filters</code> - A HashMap of the filters and values</dd>
<dd><code>postBody</code> - The post body of static parameters.</dd>
<dt>Returns:</dt>
<dd>The post body builder with the filters and static parameters</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="decodedURL(okhttp3.HttpUrl)">
<h3>decodedURL</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">decodedURL</span><wbr><span class="parameters">(okhttp3.HttpUrl&nbsp;url)</span></div>
<div class="block">Returns the URL-decoded URL. If the URL is invalid, return the original URL.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Returns the URL-decoded URL</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hasURLParameters(okhttp3.HttpUrl)">
<h3>hasURLParameters</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">hasURLParameters</span><wbr><span class="parameters">(okhttp3.HttpUrl&nbsp;url)</span></div>
<div class="block">Returns true if the url has url parameters, as indicated by the presence of
 {param} in a url.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>True if there are URL params, false if not</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getURLParameters(okhttp3.HttpUrl)">
<h3>getURLParameters</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getURLParameters</span><wbr><span class="parameters">(okhttp3.HttpUrl&nbsp;url)</span></div>
<div class="block">APIs are sometimes structured with parameters in the URL itself.  For instance, to request a list of
 an organization's repositories in github, the URL is: https://api.github.com/orgs/{org}/repos, where
 you can replace the org with the actual organization name.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A list of URL parameters enclosed by curly braces.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDefaultParameterValue(okhttp3.HttpUrl,java.lang.String)">
<h3>getDefaultParameterValue</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getDefaultParameterValue</span><wbr><span class="parameters">(okhttp3.HttpUrl&nbsp;url,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;parameter)</span></div>
<div class="block">This function is used to extract the default parameter supplied in a URL. For instance,
 if the supplied URL is http://someapi.com/path/{p1=foo}, the function will return foo. If there
 is not a matching parameter or no default value, the function will return null.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>url</code> - The URL containing a default parameter</dd>
<dd><code>parameter</code> - The parameter for which you need the value</dd>
<dt>Returns:</dt>
<dd>The value for the supplied parameter</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="mapURLParameters(okhttp3.HttpUrl,java.util.Map)">
<h3>mapURLParameters</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">mapURLParameters</span><wbr><span class="parameters">(okhttp3.HttpUrl&nbsp;url,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;filters)</span></div>
<div class="block">Used for APIs which have parameters in the URL.  This function maps the filters pushed down
 from the query into the URL.  For example the API: github.com/orgs/{org}/repos requires a user to
 specify an organization and replace {org} with an actual organization.  The filter is passed down from
 the query.

 Note that if a URL contains URL parameters and one is not provided in the filters, Drill will throw
 a UserException.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>url</code> - The HttpUrl containing URL Parameters</dd>
<dd><code>filters</code> - A CaseInsensitiveMap of filters</dd>
<dt>Returns:</dt>
<dd>A string of the URL with the URL parameters replaced by filter values</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="mapPositionalParameters(java.lang.String,java.util.List)">
<h3>mapPositionalParameters</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">mapPositionalParameters</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rawUrl,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;params)</span></div>
</section>
</li>
<li>
<section class="detail" id="validateUrl(java.lang.String)">
<h3>validateUrl</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">validateUrl</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;url)</span></div>
<div class="block">Validates a URL.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>url</code> - The input URL.  Should be a string.</dd>
<dt>Returns:</dt>
<dd>True of the URL is valid, false if not.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="buildParameterList(org.apache.drill.exec.expr.holders.NullableVarCharHolder[])">
<h3>buildParameterList</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">buildParameterList</span><wbr><span class="parameters">(<a href="../../../expr/holders/NullableVarCharHolder.html" title="class in org.apache.drill.exec.expr.holders">NullableVarCharHolder</a>[]&nbsp;inputReaders)</span></div>
<div class="block">Accepts a list of input readers and converts that into an ArrayList of Strings</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>inputReaders</code> - The array of FieldReaders</dd>
<dt>Returns:</dt>
<dd>A List of Strings containing the values from the FieldReaders or null
 to indicate that at least one null is present in the arguments.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getEndpointConfig(java.lang.String,org.apache.drill.exec.store.http.HttpStoragePluginConfig)">
<h3>getEndpointConfig</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="../HttpApiConfig.html" title="class in org.apache.drill.exec.store.http">HttpApiConfig</a></span>&nbsp;<span class="element-name">getEndpointConfig</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;endpoint,
 <a href="../HttpStoragePluginConfig.html" title="class in org.apache.drill.exec.store.http">HttpStoragePluginConfig</a>&nbsp;pluginConfig)</span></div>
<div class="block">This function is used to obtain the configuration information for a given API in the HTTP UDF.
 If aliasing is enabled, this function will resolve aliases for connections.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>endpoint</code> - The name of the endpoint.  Should be a <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link"><code>String</code></a></dd>
<dd><code>pluginConfig</code> - The <a href="../HttpStoragePluginConfig.html" title="class in org.apache.drill.exec.store.http"><code>HttpStoragePluginConfig</code></a> the configuration from the plugin</dd>
<dt>Returns:</dt>
<dd>The <a href="../HttpApiConfig.html" title="class in org.apache.drill.exec.store.http"><code>HttpApiConfig</code></a> corresponding with the endpoint.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getStoragePlugin(java.lang.String,org.apache.drill.exec.server.DrillbitContext)">
<h3>getStoragePlugin</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="../HttpStoragePlugin.html" title="class in org.apache.drill.exec.store.http">HttpStoragePlugin</a></span>&nbsp;<span class="element-name">getStoragePlugin</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pluginName,
 <a href="../../../server/DrillbitContext.html" title="class in org.apache.drill.exec.server">DrillbitContext</a>&nbsp;context)</span></div>
<div class="block">This function will return a <a href="../HttpStoragePlugin.html" title="class in org.apache.drill.exec.store.http"><code>HttpStoragePlugin</code></a> for use in the HTTP UDFs.  If user or public aliases
 are used, the function will resolve those aliases.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - A <a href="../../../server/DrillbitContext.html" title="class in org.apache.drill.exec.server"><code>DrillbitContext</code></a> from the current query</dd>
<dd><code>pluginName</code> - A <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link"><code>String</code></a> of the plugin name.  Note that the function will resolve aliases.</dd>
<dt>Returns:</dt>
<dd>A <a href="../HttpStoragePlugin.html" title="class in org.apache.drill.exec.store.http"><code>HttpStoragePlugin</code></a> of the plugin.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="apiCall(org.apache.drill.exec.store.http.HttpStoragePlugin,org.apache.drill.exec.store.http.HttpApiConfig,org.apache.drill.exec.server.DrillbitContext,java.util.List)">
<h3>apiCall</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="SimpleHttp.html" title="class in org.apache.drill.exec.store.http.util">SimpleHttp</a></span>&nbsp;<span class="element-name">apiCall</span><wbr><span class="parameters">(<a href="../HttpStoragePlugin.html" title="class in org.apache.drill.exec.store.http">HttpStoragePlugin</a>&nbsp;plugin,
 <a href="../HttpApiConfig.html" title="class in org.apache.drill.exec.store.http">HttpApiConfig</a>&nbsp;endpointConfig,
 <a href="../../../server/DrillbitContext.html" title="class in org.apache.drill.exec.server">DrillbitContext</a>&nbsp;context,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;args)</span></div>
<div class="block">This function makes an API call and returns a string of the parsed results. It is used in the http_get() UDF
 and retrieves all the configuration parameters contained in the storage plugin and endpoint configuration. The exception
 is pagination.  This does not support pagination.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>plugin</code> - The HTTP storage plugin upon which the API call is based.</dd>
<dd><code>endpointConfig</code> - The configuration of the API endpoint upon which the API call is based.</dd>
<dd><code>context</code> - <a href="../../../server/DrillbitContext.html" title="class in org.apache.drill.exec.server"><code>DrillbitContext</code></a> The context from the current query</dd>
<dd><code>args</code> - An optional list of parameter arguments which will be included in the URL</dd>
<dt>Returns:</dt>
<dd>A String of the results.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getRequestAndStringResponse(java.lang.String)">
<h3>getRequestAndStringResponse</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getRequestAndStringResponse</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;url)</span></div>
</section>
</li>
<li>
<section class="detail" id="getRequestAndStreamResponse(java.lang.String)">
<h3>getRequestAndStreamResponse</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a></span>&nbsp;<span class="element-name">getRequestAndStreamResponse</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;url)</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>url</code> - </dd>
<dt>Returns:</dt>
<dd>an input stream which the caller is responsible for closing.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="makeSimpleGetRequest(java.lang.String)">
<h3>makeSimpleGetRequest</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">okhttp3.ResponseBody</span>&nbsp;<span class="element-name">makeSimpleGetRequest</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;url)</span>
                                                 throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>url</code> - </dd>
<dt>Returns:</dt>
<dd>response body which the caller is responsible for closing.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html#close--" title="class or interface in java.lang" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2023 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
