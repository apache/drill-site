<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>ReaderLifecycle (Drill : 1.21.2-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.drill.exec.physical.impl.scan.v3.lifecycle, class: ReaderLifecycle">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ReaderLifecycle.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.drill.exec.physical.impl.scan.v3.lifecycle</a></div>
<h1 title="Class ReaderLifecycle" class="title">Class ReaderLifecycle</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.drill.exec.physical.impl.scan.v3.lifecycle.ReaderLifecycle</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../../RowBatchReader.html" title="interface in org.apache.drill.exec.physical.impl.scan">RowBatchReader</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">ReaderLifecycle</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="../../RowBatchReader.html" title="interface in org.apache.drill.exec.physical.impl.scan">RowBatchReader</a></span></div>
<div class="block">Manages the schema and batch construction for a managed reader. Allows the
 reader itself to be as simple as possible. This class implements the basic
 <a href="../../RowBatchReader.html" title="interface in org.apache.drill.exec.physical.impl.scan"><code>RowBatchReader</code></a> protocol based on three methods, and converts it to
 the two-method protocol of the managed reader. The <code>open()</code> call of the
 <code>RowBatchReader</code> is combined with the constructor of the
 <a href="../ManagedReader.html" title="interface in org.apache.drill.exec.physical.impl.scan.v3"><code>ManagedReader</code></a>, enforcing the rule that the managed reader is created
 just-in-time when it is to be used, which avoids accidentally holding
 resources for the life of the scan. Also allows most of the reader's fields
 to be <code>final</code>.
 <p>
 Coordinates the components that wrap a reader to create the final output
 batch:
 <ul>
 <li>The actual reader which loads (possibly a subset of) the columns requested
 from the input source.</li>
 <li>Implicit columns manager instance which populates implicit file columns,
 partition columns, and Drill's internal implicit columns.</li>
 <li>The missing columns handler which "makes up" values for projected columns
 not read by the reader.</li>
 <li>Batch assembler, which combines the three sources of vectors to create
 the output batch with the schema specified by the schema tracker.</li>
 </ul>
 <p>
 This class coordinates the reader-visible aspects of the scan:
 <ul>
 <li>The <a href="../SchemaNegotiator.html" title="interface in org.apache.drill.exec.physical.impl.scan.v3"><code>SchemaNegotiator</code></a> (or subclass) which provides schema-related
 input to the reader and which creates the reader's <a href="../../../../resultSet/ResultSetLoader.html" title="interface in org.apache.drill.exec.physical.resultSet"><code>ResultSetLoader</code></a>,
 among other tasks. The schema negotiator is specific to each kind of scan and
 is thus created via the <a href="../ScanLifecycleBuilder.html" title="class in org.apache.drill.exec.physical.impl.scan.v3"><code>ScanLifecycleBuilder</code></a>.</li>
 <li>The reader, which is designed to be as simple as possible, with all
 generic overhead tasks handled by this "shim" between the scan operator and
 the actual reader implementation.</li>
 </ul>
 <p>
 The reader is schema-driven. See <a href="../schema/ScanSchemaTracker.html" title="interface in org.apache.drill.exec.physical.impl.scan.v3.schema"><code>ScanSchemaTracker</code></a> for an overview.
 <ul>
 <li>The reader is given a <i>reader input schema</i>, via the schema
 negotiator, which specifies the desired output schema. The schema can be
 fully dynamic (a wildcard), fully defined (a prior reader already chose
 column types), or a hybrid.</li>
 <li>The reader can load a subset of columns. Those that are left out become
 "missing columns" to be filled in by this class.</li>
 <li>The <i>reader output schema</i> along with implicit and missing columns,
 together define the scan's output schema.</li>
 </ul>
 <p>
 The framework handles the projection task so the reader does not have to
 worry about it. Reading an unwanted column is low cost: the result set loader
 will have provided a "dummy" column writer that simply discards the value.
 This is just as fast as having the reader use if-statements or a table to
 determine which columns to save.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected final <a href="../../../../../record/metadata/TupleMetadata.html" title="interface in org.apache.drill.exec.record.metadata">TupleMetadata</a></code></div>
<div class="col-second even-row-color"><code><a href="#readerInputSchema" class="member-name-link">readerInputSchema</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected <a href="../../../../resultSet/ResultSetLoader.html" title="interface in org.apache.drill.exec.physical.resultSet">ResultSetLoader</a></code></div>
<div class="col-second odd-row-color"><code><a href="#tableLoader" class="member-name-link">tableLoader</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.apache.drill.exec.physical.impl.scan.v3.lifecycle.ScanLifecycle,long)" class="member-name-link">ReaderLifecycle</a><wbr>(<a href="ScanLifecycle.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">ScanLifecycle</a>&nbsp;scanLifecycle,
 long&nbsp;limit)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../../resultSet/ResultSetLoader.html" title="interface in org.apache.drill.exec.physical.resultSet">ResultSetLoader</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#buildLoader()" class="member-name-link">buildLoader</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Release resources.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#defineSchema()" class="member-name-link">defineSchema</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called for the first reader within a scan.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../../../../common/exceptions/CustomErrorContext.html" title="interface in org.apache.drill.common.exceptions">CustomErrorContext</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#errorContext()" class="member-name-link">errorContext</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="MissingColumnHandlerBuilder.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">MissingColumnHandlerBuilder</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#missingColumnsBuilder(org.apache.drill.exec.record.metadata.TupleMetadata)" class="member-name-link">missingColumnsBuilder</a><wbr>(<a href="../../../../../record/metadata/TupleMetadata.html" title="interface in org.apache.drill.exec.record.metadata">TupleMetadata</a>&nbsp;readerSchema)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#name()" class="member-name-link">name</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Name used when reporting errors.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#next()" class="member-name-link">next</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Read the next batch.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#open()" class="member-name-link">open</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Setup the record reader.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../../../record/VectorContainer.html" title="class in org.apache.drill.exec.record">VectorContainer</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#output()" class="member-name-link">output</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return the container with the reader's output.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../../../record/metadata/TupleMetadata.html" title="interface in org.apache.drill.exec.record.metadata">TupleMetadata</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readerInputSchema()" class="member-name-link">readerInputSchema</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../../../record/metadata/TupleMetadata.html" title="interface in org.apache.drill.exec.record.metadata">TupleMetadata</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readerOutputSchema()" class="member-name-link">readerOutputSchema</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="ScanLifecycle.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">ScanLifecycle</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#scanLifecycle()" class="member-name-link">scanLifecycle</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../ScanLifecycleBuilder.html" title="class in org.apache.drill.exec.physical.impl.scan.v3">ScanLifecycleBuilder</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#scanOptions()" class="member-name-link">scanOptions</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../schema/ScanSchemaTracker.html" title="interface in org.apache.drill.exec.physical.impl.scan.v3.schema">ScanSchemaTracker</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#schemaTracker()" class="member-name-link">schemaTracker</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#schemaVersion()" class="member-name-link">schemaVersion</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return the version of the schema returned by <a href="../../RowBatchReader.html#output()"><code>RowBatchReader.output()</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../../resultSet/ResultSetLoader.html" title="interface in org.apache.drill.exec.physical.resultSet">ResultSetLoader</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#tableLoader()" class="member-name-link">tableLoader</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone--" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize--" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="readerInputSchema">
<h3>readerInputSchema</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="../../../../../record/metadata/TupleMetadata.html" title="interface in org.apache.drill.exec.record.metadata">TupleMetadata</a></span>&nbsp;<span class="element-name">readerInputSchema</span></div>
</section>
</li>
<li>
<section class="detail" id="tableLoader">
<h3>tableLoader</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="../../../../resultSet/ResultSetLoader.html" title="interface in org.apache.drill.exec.physical.resultSet">ResultSetLoader</a></span>&nbsp;<span class="element-name">tableLoader</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.apache.drill.exec.physical.impl.scan.v3.lifecycle.ScanLifecycle,long)">
<h3>ReaderLifecycle</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">ReaderLifecycle</span><wbr><span class="parameters">(<a href="ScanLifecycle.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">ScanLifecycle</a>&nbsp;scanLifecycle,
 long&nbsp;limit)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="scanLifecycle()">
<h3>scanLifecycle</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="ScanLifecycle.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">ScanLifecycle</a></span>&nbsp;<span class="element-name">scanLifecycle</span>()</div>
</section>
</li>
<li>
<section class="detail" id="readerInputSchema()">
<h3>readerInputSchema</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../../../record/metadata/TupleMetadata.html" title="interface in org.apache.drill.exec.record.metadata">TupleMetadata</a></span>&nbsp;<span class="element-name">readerInputSchema</span>()</div>
</section>
</li>
<li>
<section class="detail" id="errorContext()">
<h3>errorContext</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../../../../common/exceptions/CustomErrorContext.html" title="interface in org.apache.drill.common.exceptions">CustomErrorContext</a></span>&nbsp;<span class="element-name">errorContext</span>()</div>
</section>
</li>
<li>
<section class="detail" id="schemaTracker()">
<h3>schemaTracker</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../schema/ScanSchemaTracker.html" title="interface in org.apache.drill.exec.physical.impl.scan.v3.schema">ScanSchemaTracker</a></span>&nbsp;<span class="element-name">schemaTracker</span>()</div>
</section>
</li>
<li>
<section class="detail" id="scanOptions()">
<h3>scanOptions</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../ScanLifecycleBuilder.html" title="class in org.apache.drill.exec.physical.impl.scan.v3">ScanLifecycleBuilder</a></span>&nbsp;<span class="element-name">scanOptions</span>()</div>
</section>
</li>
<li>
<section class="detail" id="name()">
<h3>name</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">name</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../RowBatchReader.html#name()">RowBatchReader</a></code></span></div>
<div class="block">Name used when reporting errors. Can simply be the class name.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../RowBatchReader.html#name()">name</a></code>&nbsp;in interface&nbsp;<code><a href="../../RowBatchReader.html" title="interface in org.apache.drill.exec.physical.impl.scan">RowBatchReader</a></code></dd>
<dt>Returns:</dt>
<dd>display name for errors</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="tableLoader()">
<h3>tableLoader</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../../resultSet/ResultSetLoader.html" title="interface in org.apache.drill.exec.physical.resultSet">ResultSetLoader</a></span>&nbsp;<span class="element-name">tableLoader</span>()</div>
</section>
</li>
<li>
<section class="detail" id="open()">
<h3>open</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">open</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../RowBatchReader.html#open()">RowBatchReader</a></code></span></div>
<div class="block">Setup the record reader. Called just before the first call
 to <code>next()</code>. Allocate resources here, not in the constructor.
 Example: open files, allocate buffers, etc.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../RowBatchReader.html#open()">open</a></code>&nbsp;in interface&nbsp;<code><a href="../../RowBatchReader.html" title="interface in org.apache.drill.exec.physical.impl.scan">RowBatchReader</a></code></dd>
<dt>Returns:</dt>
<dd>true if the reader is open and ready to read (possibly no)
 rows. false for a "soft" failure in which no schema or data is available,
 but the scanner should not fail, it should move onto another reader</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="buildLoader()">
<h3>buildLoader</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../../resultSet/ResultSetLoader.html" title="interface in org.apache.drill.exec.physical.resultSet">ResultSetLoader</a></span>&nbsp;<span class="element-name">buildLoader</span>()</div>
</section>
</li>
<li>
<section class="detail" id="defineSchema()">
<h3>defineSchema</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">defineSchema</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../RowBatchReader.html#defineSchema()">RowBatchReader</a></code></span></div>
<div class="block">Called for the first reader within a scan. Allows the reader to
 provide an empty batch with only the schema filled in. Readers that
 are "early schema" (know the schema up front) should return true
 and create an empty batch. Readers that are "late schema" should
 return false. In that case, the scan operator will ask the reader
 to load an actual data batch, and infer the schema from that batch.
 <p>
 This step is optional and is purely for performance.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../RowBatchReader.html#defineSchema()">defineSchema</a></code>&nbsp;in interface&nbsp;<code><a href="../../RowBatchReader.html" title="interface in org.apache.drill.exec.physical.impl.scan">RowBatchReader</a></code></dd>
<dt>Returns:</dt>
<dd>true if this reader can (and has) defined an empty batch
 to describe the schema, false otherwise</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="next()">
<h3>next</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">next</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../RowBatchReader.html#next()">RowBatchReader</a></code></span></div>
<div class="block">Read the next batch. Reading continues until either EOF,
 or until the mutator indicates that the batch is full.
 The batch is considered valid if it is non-empty. Returning
 <code>true</code> with an empty batch is valid, and is helpful on
 the very first batch (returning schema only.) An empty batch
 with a <code>false</code> return code indicates EOF and the batch
 will be discarded. A non-empty batch along with a <code>false</code>
 return result indicates a final, valid batch, but that EOF was
 reached and no more data is available.
 <p>
 This somewhat complex protocol avoids the need to allocate a
 final batch just to find out that no more data is available;
 it allows EOF to be returned along with the final batch.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../RowBatchReader.html#next()">next</a></code>&nbsp;in interface&nbsp;<code><a href="../../RowBatchReader.html" title="interface in org.apache.drill.exec.physical.impl.scan">RowBatchReader</a></code></dd>
<dt>Returns:</dt>
<dd><code>true</code> if more data may be available (and so
 <code>next()</code> should be called again, <code>false</code> to indicate
 that EOF was reached</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="missingColumnsBuilder(org.apache.drill.exec.record.metadata.TupleMetadata)">
<h3>missingColumnsBuilder</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="MissingColumnHandlerBuilder.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">MissingColumnHandlerBuilder</a></span>&nbsp;<span class="element-name">missingColumnsBuilder</span><wbr><span class="parameters">(<a href="../../../../../record/metadata/TupleMetadata.html" title="interface in org.apache.drill.exec.record.metadata">TupleMetadata</a>&nbsp;readerSchema)</span></div>
</section>
</li>
<li>
<section class="detail" id="readerOutputSchema()">
<h3>readerOutputSchema</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../../../record/metadata/TupleMetadata.html" title="interface in org.apache.drill.exec.record.metadata">TupleMetadata</a></span>&nbsp;<span class="element-name">readerOutputSchema</span>()</div>
</section>
</li>
<li>
<section class="detail" id="output()">
<h3>output</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../../../record/VectorContainer.html" title="class in org.apache.drill.exec.record">VectorContainer</a></span>&nbsp;<span class="element-name">output</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../RowBatchReader.html#output()">RowBatchReader</a></code></span></div>
<div class="block">Return the container with the reader's output. This method is called
 at two times:
 <ul>
 <li>Directly after the call to <a href="../../RowBatchReader.html#open()"><code>RowBatchReader.open()</code></a>. If the data source
 can provide a schema at open time, then the reader should provide an
 empty batch with the schema set. The scanner will return this schema
 downstream to inform other operators of the schema.</li>
 <li>Directly after a successful call to <a href="../../RowBatchReader.html#next()"><code>RowBatchReader.next()</code></a> to retrieve
 the batch produced by that call. (No call is made if <code>next()</code>
 returns false.</li>
 </ul>
 Note that most operators require the same vectors be present in
 each container. So, in practice, a reader must return the same
 container, and same set of vectors, on each call.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../RowBatchReader.html#output()">output</a></code>&nbsp;in interface&nbsp;<code><a href="../../RowBatchReader.html" title="interface in org.apache.drill.exec.physical.impl.scan">RowBatchReader</a></code></dd>
<dt>Returns:</dt>
<dd>a vector container, with the record count and schema
 set, that announces the schema after <code>open()</code> (optional)
 or returns rows read after <code>next()</code> (required)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="schemaVersion()">
<h3>schemaVersion</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">schemaVersion</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../RowBatchReader.html#schemaVersion()">RowBatchReader</a></code></span></div>
<div class="block">Return the version of the schema returned by <a href="../../RowBatchReader.html#output()"><code>RowBatchReader.output()</code></a>. The schema
 is assumed to start at -1 (no schema). The reader is free to use any
 numbering system it likes as long as:
 <ul>
 <li>The numbers are non-negative, and increase (by any increment),</li>
 <li>Numbers between successive calls are idential if the batch schemas are
 identical,</li>
 <li>The number increases if a batch has a different schema than the
 previous batch.</li>
 </ul>
 Numbers increment (or not) on calls to <code>next()</code>. Thus Two successive
 calls to this method should return the same number if no <code>next()</code>
 call lies between.
 <p>
 If the reader can return a schema on open (so-called "early-schema), then
 this method must return a non-negative version number, even if the schema
 happens to be empty (such as reading an empty file.)
 <p>
 However, if the reader cannot return a schema on open (so-called "late
 schema"), then this method must return -1 (and <code>output()</code> must
 return null) to indicate now schema is available when called before the
 first call to <code>next()</code>.
 <p>
 No calls will be made to this method before <code>open()</code> after
 {@code close(){@code  or after {@code next()} returns false. The implementation
 is thus not required to handle these cases.

 @return the schema version, or -1 if no schema version is yet available</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../RowBatchReader.html#schemaVersion()">schemaVersion</a></code>&nbsp;in interface&nbsp;<code><a href="../../RowBatchReader.html" title="interface in org.apache.drill.exec.physical.impl.scan">RowBatchReader</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../RowBatchReader.html#close()">RowBatchReader</a></code></span></div>
<div class="block">Release resources. Called just after a failure, when the scanner
 is cancelled, or after <code>next()</code> returns EOF. Release
 all resources and close files. Guaranteed to be called if
 <code>open()</code> returns normally; will not be called if <code>open()</code>
 throws an exception.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../RowBatchReader.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../RowBatchReader.html" title="interface in org.apache.drill.exec.physical.impl.scan">RowBatchReader</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2023 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
