<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>BufferAllocator (Drill : 1.21.2-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.drill.exec.memory, interface: BufferAllocator">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/BufferAllocator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.drill.exec.memory</a></div>
<h1 title="Interface BufferAllocator" class="title">Interface BufferAllocator</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
</dl>
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="BaseAllocator.html" title="class in org.apache.drill.exec.memory">BaseAllocator</a></code>, <code><a href="RootAllocator.html" title="class in org.apache.drill.exec.memory">RootAllocator</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">BufferAllocator</span><span class="extends-implements">
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></span></div>
<div class="block">Wrapper class to deal with byte buffer allocation. Ensures users only use designated methods.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#assertOpen()" class="member-name-link">assertOpen</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Asserts (using java assertions) that the provided allocator is currently open.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../../../../../io/netty/buffer/DrillBuf.html" title="class in io.netty.buffer">DrillBuf</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#buffer(int)" class="member-name-link">buffer</a><wbr>(int&nbsp;size)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Allocate a new or reused buffer of the provided size.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../../../../../io/netty/buffer/DrillBuf.html" title="class in io.netty.buffer">DrillBuf</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#buffer(int,org.apache.drill.exec.ops.BufferManager)" class="member-name-link">buffer</a><wbr>(int&nbsp;size,
 <a href="../ops/BufferManager.html" title="interface in org.apache.drill.exec.ops">BufferManager</a>&nbsp;manager)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Allocate a new or reused buffer of the provided size.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Close and release all buffers generated from this buffer pool.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getAllocatedMemory()" class="member-name-link">getAllocatedMemory</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the amount of memory currently allocated from this allocator.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>io.netty.buffer.ByteBufAllocator</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getAsByteBufAllocator()" class="member-name-link">getAsByteBufAllocator</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the allocator this allocator falls back to when it needs more memory.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../../../../../io/netty/buffer/DrillBuf.html" title="class in io.netty.buffer">DrillBuf</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getEmpty()" class="member-name-link">getEmpty</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Get a reference to the empty buffer associated with this allocator.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getLimit()" class="member-name-link">getLimit</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Return the current maximum limit this allocator imposes.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getName()" class="member-name-link">getName</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Return the name of this allocator.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getPeakMemoryAllocation()" class="member-name-link">getPeakMemoryAllocation</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the peak amount of memory allocated from this allocator.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#isOverLimit()" class="member-name-link">isOverLimit</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Return whether or not this allocator (or one if its parents) is over its limits.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="BufferAllocator.html" title="interface in org.apache.drill.exec.memory">BufferAllocator</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#newChildAllocator(java.lang.String,long,long)" class="member-name-link">newChildAllocator</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 long&nbsp;initReservation,
 long&nbsp;maxAllocation)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Create a new child allocator.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="AllocationReservation.html" title="interface in org.apache.drill.exec.memory">AllocationReservation</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#newReservation()" class="member-name-link">newReservation</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Create an allocation reservation.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../../../../../io/netty/buffer/DrillBuf.html" title="class in io.netty.buffer">DrillBuf</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#read(int,java.io.InputStream)" class="member-name-link">read</a><wbr>(int&nbsp;length,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a>&nbsp;in)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Reads the specified number of bytes into a new Drillbuf.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#read(io.netty.buffer.DrillBuf,int,java.io.InputStream)" class="member-name-link">read</a><wbr>(<a href="../../../../../io/netty/buffer/DrillBuf.html" title="class in io.netty.buffer">DrillBuf</a>&nbsp;buf,
 int&nbsp;length,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a>&nbsp;in)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Read the contents of a DrillBuf from a stream.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setLenient()" class="member-name-link">setLenient</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Request lenient enforcement of the allocation limits.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setLimit(long)" class="member-name-link">setLimit</a><wbr>(long&nbsp;newLimit)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Set the maximum amount of memory this allocator is allowed to allocate.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#toVerboseString()" class="member-name-link">toVerboseString</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Return a verbose string describing this allocator.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#write(io.netty.buffer.DrillBuf,int,java.io.OutputStream)" class="member-name-link">write</a><wbr>(<a href="../../../../../io/netty/buffer/DrillBuf.html" title="class in io.netty.buffer">DrillBuf</a>&nbsp;buf,
 int&nbsp;length,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html" title="class or interface in java.io" class="external-link">OutputStream</a>&nbsp;out)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Write the contents of a DrillBuf to a stream.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#write(io.netty.buffer.DrillBuf,java.io.OutputStream)" class="member-name-link">write</a><wbr>(<a href="../../../../../io/netty/buffer/DrillBuf.html" title="class in io.netty.buffer">DrillBuf</a>&nbsp;buf,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html" title="class or interface in java.io" class="external-link">OutputStream</a>&nbsp;out)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Write the contents of a DrillBuf to a stream.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="buffer(int)">
<h3>buffer</h3>
<div class="member-signature"><span class="return-type"><a href="../../../../../io/netty/buffer/DrillBuf.html" title="class in io.netty.buffer">DrillBuf</a></span>&nbsp;<span class="element-name">buffer</span><wbr><span class="parameters">(int&nbsp;size)</span></div>
<div class="block">Allocate a new or reused buffer of the provided size. Note that the buffer may technically be larger than the
 requested size for rounding purposes. However, the buffer's capacity will be set to the configured size.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>size</code> - The size in bytes.</dd>
<dt>Returns:</dt>
<dd>a new DrillBuf, or null if the request can't be satisfied</dd>
<dt>Throws:</dt>
<dd><code>OutOfMemoryException</code> - if buffer cannot be allocated</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="buffer(int,org.apache.drill.exec.ops.BufferManager)">
<h3>buffer</h3>
<div class="member-signature"><span class="return-type"><a href="../../../../../io/netty/buffer/DrillBuf.html" title="class in io.netty.buffer">DrillBuf</a></span>&nbsp;<span class="element-name">buffer</span><wbr><span class="parameters">(int&nbsp;size,
 <a href="../ops/BufferManager.html" title="interface in org.apache.drill.exec.ops">BufferManager</a>&nbsp;manager)</span></div>
<div class="block">Allocate a new or reused buffer of the provided size. Note that the buffer may technically be larger than the
 requested size for rounding purposes. However, the buffer's capacity will be set to the configured size.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>size</code> - The size in bytes.</dd>
<dd><code>manager</code> - A buffer manager to manage reallocation.</dd>
<dt>Returns:</dt>
<dd>a new DrillBuf, or null if the request can't be satisfied</dd>
<dt>Throws:</dt>
<dd><code>OutOfMemoryException</code> - if buffer cannot be allocated</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAsByteBufAllocator()">
<h3>getAsByteBufAllocator</h3>
<div class="member-signature"><span class="return-type">io.netty.buffer.ByteBufAllocator</span>&nbsp;<span class="element-name">getAsByteBufAllocator</span>()</div>
<div class="block">Returns the allocator this allocator falls back to when it needs more memory.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the underlying allocator used by this allocator</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="newChildAllocator(java.lang.String,long,long)">
<h3>newChildAllocator</h3>
<div class="member-signature"><span class="return-type"><a href="BufferAllocator.html" title="interface in org.apache.drill.exec.memory">BufferAllocator</a></span>&nbsp;<span class="element-name">newChildAllocator</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 long&nbsp;initReservation,
 long&nbsp;maxAllocation)</span></div>
<div class="block">Create a new child allocator.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - the name of the allocator.</dd>
<dd><code>initReservation</code> - the initial space reservation (obtained from this allocator)</dd>
<dd><code>maxAllocation</code> - maximum amount of space the new allocator can allocate</dd>
<dt>Returns:</dt>
<dd>the new allocator, or null if it can't be created</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()</div>
<div class="block">Close and release all buffers generated from this buffer pool.

 <p>When assertions are on, complains if there are any outstanding buffers; to avoid
 that, release all buffers before the allocator is closed.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html#close--" title="class or interface in java.lang" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllocatedMemory()">
<h3>getAllocatedMemory</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">getAllocatedMemory</span>()</div>
<div class="block">Returns the amount of memory currently allocated from this allocator.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the amount of memory currently allocated</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setLimit(long)">
<h3>setLimit</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setLimit</span><wbr><span class="parameters">(long&nbsp;newLimit)</span></div>
<div class="block">Set the maximum amount of memory this allocator is allowed to allocate.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>newLimit</code> - The new Limit to apply to allocations</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setLenient()">
<h3>setLenient</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">setLenient</span>()</div>
<div class="block">Request lenient enforcement of the allocation limits. Use for
 memory-managed operators to prevent minor math errors from killing
 queries. This is temporary until Drill manages memory better.
 Leniency is allowed only in production code (no assertions),
 not in debug mode (assertions enabled).</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if leniency was granted, false if the allocator will
 enforce strict limits despite the request</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLimit()">
<h3>getLimit</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">getLimit</span>()</div>
<div class="block">Return the current maximum limit this allocator imposes.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Limit in number of bytes.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPeakMemoryAllocation()">
<h3>getPeakMemoryAllocation</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">getPeakMemoryAllocation</span>()</div>
<div class="block">Returns the peak amount of memory allocated from this allocator.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the peak amount of memory allocated</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="newReservation()">
<h3>newReservation</h3>
<div class="member-signature"><span class="return-type"><a href="AllocationReservation.html" title="interface in org.apache.drill.exec.memory">AllocationReservation</a></span>&nbsp;<span class="element-name">newReservation</span>()</div>
<div class="block">Create an allocation reservation. A reservation is a way of building up
 a request for a buffer whose size is not known in advance. See
 .</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the newly created reservation</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getEmpty()">
<h3>getEmpty</h3>
<div class="member-signature"><span class="return-type"><a href="../../../../../io/netty/buffer/DrillBuf.html" title="class in io.netty.buffer">DrillBuf</a></span>&nbsp;<span class="element-name">getEmpty</span>()</div>
<div class="block">Get a reference to the empty buffer associated with this allocator. Empty buffers are special because we don't
 worry about them leaking or managing reference counts on them since they don't actually point to any memory.</div>
</section>
</li>
<li>
<section class="detail" id="getName()">
<h3>getName</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getName</span>()</div>
<div class="block">Return the name of this allocator. This is a human readable name that can help debugging. Typically provides
 coordinates about where this allocator was created</div>
</section>
</li>
<li>
<section class="detail" id="isOverLimit()">
<h3>isOverLimit</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">isOverLimit</span>()</div>
<div class="block">Return whether or not this allocator (or one if its parents) is over its limits. In the case that an allocator is
 over its limit, all consumers of that allocator should aggressively try to addrss the overlimit situation.</div>
</section>
</li>
<li>
<section class="detail" id="toVerboseString()">
<h3>toVerboseString</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toVerboseString</span>()</div>
<div class="block">Return a verbose string describing this allocator. If in DEBUG mode, this will also include relevant stacktraces
 and historical logs for underlying objects</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A very verbose description of the allocator hierarchy.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="assertOpen()">
<h3>assertOpen</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">assertOpen</span>()</div>
<div class="block">Asserts (using java assertions) that the provided allocator is currently open. If assertions are disabled, this is
 a no-op.</div>
</section>
</li>
<li>
<section class="detail" id="write(io.netty.buffer.DrillBuf,java.io.OutputStream)">
<h3>write</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">write</span><wbr><span class="parameters">(<a href="../../../../../io/netty/buffer/DrillBuf.html" title="class in io.netty.buffer">DrillBuf</a>&nbsp;buf,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html" title="class or interface in java.io" class="external-link">OutputStream</a>&nbsp;out)</span>
    throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Write the contents of a DrillBuf to a stream. Use this method, rather
 than calling the DrillBuf.getBytes() method, because this method
 avoids repeated heap allocation for the intermediate heap buffer.
 Uses the reader and writer indexes to determine
 the number of bytes to write. Useful only for bufs created using
 those indexes.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>buf</code> - the Drillbuf to write</dd>
<dd><code>out</code> - the output stream</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if a write error occurs</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="write(io.netty.buffer.DrillBuf,int,java.io.OutputStream)">
<h3>write</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">write</span><wbr><span class="parameters">(<a href="../../../../../io/netty/buffer/DrillBuf.html" title="class in io.netty.buffer">DrillBuf</a>&nbsp;buf,
 int&nbsp;length,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html" title="class or interface in java.io" class="external-link">OutputStream</a>&nbsp;out)</span>
    throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Write the contents of a DrillBuf to a stream. Use this method, rather
 than calling the DrillBuf.getBytes() method, because this method
 avoids repeated heap allocation for the intermediate heap buffer.
 Writes the specified number of bytes starting from the head of the
 given Drillbuf.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>buf</code> - the Drillbuf to write</dd>
<dd><code>length</code> - the number of bytes to read. Must be less than or
 equal to number of bytes allocated in the buffer.</dd>
<dd><code>out</code> - the output stream</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if a write error occurs</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="read(io.netty.buffer.DrillBuf,int,java.io.InputStream)">
<h3>read</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">read</span><wbr><span class="parameters">(<a href="../../../../../io/netty/buffer/DrillBuf.html" title="class in io.netty.buffer">DrillBuf</a>&nbsp;buf,
 int&nbsp;length,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a>&nbsp;in)</span>
   throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Read the contents of a DrillBuf from a stream. Use this method, rather
 than calling the DrillBuf.writeBytes() method, because this method
 avoids repeated heap allocation for the intermediate heap buffer.
 The buffer must have already been allocated.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>buf</code> - the buffer to read with space already allocated</dd>
<dd><code>length</code> - number of bytes to read</dd>
<dd><code>in</code> - input stream from which to read data</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if a read error occurs</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="read(int,java.io.InputStream)">
<h3>read</h3>
<div class="member-signature"><span class="return-type"><a href="../../../../../io/netty/buffer/DrillBuf.html" title="class in io.netty.buffer">DrillBuf</a></span>&nbsp;<span class="element-name">read</span><wbr><span class="parameters">(int&nbsp;length,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a>&nbsp;in)</span>
       throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Reads the specified number of bytes into a new Drillbuf.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>length</code> - number of bytes to read</dd>
<dd><code>in</code> - input stream from which to read data</dd>
<dt>Returns:</dt>
<dd>the buffer holding the data read from the stream</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if a read error occurs</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2023 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
