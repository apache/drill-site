<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>ParquetReaderUtility (Drill : 1.21.2-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.drill.exec.store.parquet, class: ParquetReaderUtility">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ParquetReaderUtility.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.drill.exec.store.parquet</a></div>
<h1 title="Class ParquetReaderUtility" class="title">Class ParquetReaderUtility</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.drill.exec.store.parquet.ParquetReaderUtility</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">ParquetReaderUtility</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Utility class where we can capture common logic between the two parquet readers</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static enum&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="ParquetReaderUtility.DateCorruptionStatus.html" class="type-name-link" title="enum in org.apache.drill.exec.store.parquet">ParquetReaderUtility.DateCorruptionStatus</a></code></div>
<div class="col-last even-row-color">
<div class="block">For most recently created parquet files, we can determine if we have corrupted dates (see DRILL-4203)
 based on the file metadata.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="ParquetReaderUtility.NanoTimeUtils.html" class="type-name-link" title="class in org.apache.drill.exec.store.parquet">ParquetReaderUtility.NanoTimeUtils</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Utilities for converting from parquet INT96 binary (impala, hive timestamp)
 to date time value.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#ALLOWED_DRILL_VERSION_FOR_BINARY" class="member-name-link">ALLOWED_DRILL_VERSION_FOR_BINARY</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final long</code></div>
<div class="col-second odd-row-color"><code><a href="#CORRECT_CORRUPT_DATE_SHIFT" class="member-name-link">CORRECT_CORRUPT_DATE_SHIFT</a></code></div>
<div class="col-last odd-row-color">
<div class="block">All old parquet files (which haven't "is.date.correct=true" or "parquet-writer.version" properties
 in metadata) have a corrupt date shift: 4881176L days or 2 * <a href="#JULIAN_DAY_NUMBER_FOR_UNIX_EPOCH">2440588L</a></div>
</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#DATE_CORRUPTION_THRESHOLD" class="member-name-link">DATE_CORRUPTION_THRESHOLD</a></code></div>
<div class="col-last even-row-color">
<div class="block">The year 5000 (or 1106685 day from Unix epoch) is chosen as the threshold for auto-detecting date corruption.</div>
</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#DRILL_WRITER_VERSION_STD_DATE_FORMAT" class="member-name-link">DRILL_WRITER_VERSION_STD_DATE_FORMAT</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Version 2 (and later) of the Drill Parquet writer uses the date format described in the
 <a href="https://github.com/Parquet/parquet-format/blob/master/LogicalTypes.md#date">Parquet spec</a>.</div>
</div>
<div class="col-first even-row-color"><code>static final long</code></div>
<div class="col-second even-row-color"><code><a href="#JULIAN_DAY_NUMBER_FOR_UNIX_EPOCH" class="member-name-link">JULIAN_DAY_NUMBER_FOR_UNIX_EPOCH</a></code></div>
<div class="col-last even-row-color">
<div class="block">Number of days between Julian day epoch (January 1, 4713 BC) and Unix day epoch (January 1, 1970).</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">ParquetReaderUtility</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#autoCorrectCorruptedDate(int)" class="member-name-link">autoCorrectCorruptedDate</a><wbr>(int&nbsp;corruptedDate)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#checkDecimalTypeEnabled(org.apache.drill.exec.server.options.OptionManager)" class="member-name-link">checkDecimalTypeEnabled</a><wbr>(<a href="../../server/options/OptionManager.html" title="interface in org.apache.drill.exec.server.options">OptionManager</a>&nbsp;options)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="ParquetReaderUtility.DateCorruptionStatus.html" title="enum in org.apache.drill.exec.store.parquet">ParquetReaderUtility.DateCorruptionStatus</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#checkForCorruptDateValuesInStatistics(org.apache.parquet.hadoop.metadata.ParquetMetadata,java.util.List,boolean)" class="member-name-link">checkForCorruptDateValuesInStatistics</a><wbr>(org.apache.parquet.hadoop.metadata.ParquetMetadata&nbsp;footer,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../../common/expression/SchemaPath.html" title="class in org.apache.drill.common.expression">SchemaPath</a>&gt;&nbsp;columns,
 boolean&nbsp;autoCorrectCorruptDates)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Detect corrupt date values by looking at the min/max values in the metadata.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#containsComplexColumn(org.apache.parquet.hadoop.metadata.ParquetMetadata,java.util.List)" class="member-name-link">containsComplexColumn</a><wbr>(org.apache.parquet.hadoop.metadata.ParquetMetadata&nbsp;footer,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../../common/expression/SchemaPath.html" title="class in org.apache.drill.common.expression">SchemaPath</a>&gt;&nbsp;columns)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Check whether any of columns in the given list is either nested or repetitive.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#correctDatesInMetadataCache(org.apache.drill.exec.store.parquet.metadata.MetadataBase.ParquetTableMetadataBase)" class="member-name-link">correctDatesInMetadataCache</a><wbr>(<a href="metadata/MetadataBase.ParquetTableMetadataBase.html" title="class in org.apache.drill.exec.store.parquet.metadata">MetadataBase.ParquetTableMetadataBase</a>&nbsp;parquetTableMetadata)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="ParquetReaderUtility.DateCorruptionStatus.html" title="enum in org.apache.drill.exec.store.parquet">ParquetReaderUtility.DateCorruptionStatus</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#detectCorruptDates(org.apache.parquet.hadoop.metadata.ParquetMetadata,java.util.List,boolean)" class="member-name-link">detectCorruptDates</a><wbr>(org.apache.parquet.hadoop.metadata.ParquetMetadata&nbsp;footer,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../../common/expression/SchemaPath.html" title="class in org.apache.drill.common.expression">SchemaPath</a>&gt;&nbsp;columns,
 boolean&nbsp;autoCorrectCorruptDates)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Check for corrupted dates in a parquet file.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>org.apache.parquet.column.ColumnDescriptor&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getColNameToColumnDescriptorMapping(org.apache.parquet.hadoop.metadata.ParquetMetadata)" class="member-name-link">getColNameToColumnDescriptorMapping</a><wbr>(org.apache.parquet.hadoop.metadata.ParquetMetadata&nbsp;footer)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Map full column paths to all ColumnDescriptors in file schema</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>org.apache.parquet.format.SchemaElement&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getColNameToSchemaElementMapping(org.apache.parquet.hadoop.metadata.ParquetMetadata)" class="member-name-link">getColNameToSchemaElementMapping</a><wbr>(org.apache.parquet.hadoop.metadata.ParquetMetadata&nbsp;footer)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Map full schema paths in format `a`.`b`.`c` to respective SchemaElement objects.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../../common/types/TypeProtos.MajorType.html" title="class in org.apache.drill.common.types">TypeProtos.MajorType</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getComplexTypes(java.util.List)" class="member-name-link">getComplexTypes</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;org.apache.parquet.schema.OriginalType&gt;&nbsp;originalTypes)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Converts list of <code>OriginalType</code>s to list of <a href="../../../common/types/TypeProtos.MajorType.html" title="class in org.apache.drill.common.types"><code>TypeProtos.MajorType</code></a>s.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="../../../common/types/TypeProtos.DataMode.html" title="enum in org.apache.drill.common.types">TypeProtos.DataMode</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getDataMode(org.apache.parquet.schema.Type.Repetition)" class="member-name-link">getDataMode</a><wbr>(org.apache.parquet.schema.Type.Repetition&nbsp;repetition)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Converts Parquet's <code>Type.Repetition</code> to Drill's <a href="../../../common/types/TypeProtos.DataMode.html" title="enum in org.apache.drill.common.types"><code>TypeProtos.DataMode</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getFullColumnPath(org.apache.parquet.column.ColumnDescriptor)" class="member-name-link">getFullColumnPath</a><wbr>(org.apache.parquet.column.ColumnDescriptor&nbsp;column)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">generate full path of the column in format `a`.`b`.`c`</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getIntFromLEBytes(byte%5B%5D,int)" class="member-name-link">getIntFromLEBytes</a><wbr>(byte[]&nbsp;input,
 int&nbsp;start)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="../../../common/types/TypeProtos.MinorType.html" title="enum in org.apache.drill.common.types">TypeProtos.MinorType</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getMinorType(org.apache.parquet.schema.PrimitiveType.PrimitiveTypeName,org.apache.parquet.schema.OriginalType)" class="member-name-link">getMinorType</a><wbr>(org.apache.parquet.schema.PrimitiveType.PrimitiveTypeName&nbsp;type,
 org.apache.parquet.schema.OriginalType&nbsp;originalType)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Builds minor type using given <code>OriginalType originalType</code> or <code>PrimitiveTypeName type</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="../../../common/types/TypeProtos.MajorType.html" title="class in org.apache.drill.common.types">TypeProtos.MajorType</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getType(org.apache.parquet.schema.PrimitiveType.PrimitiveTypeName,org.apache.parquet.schema.OriginalType,int,int)" class="member-name-link">getType</a><wbr>(org.apache.parquet.schema.PrimitiveType.PrimitiveTypeName&nbsp;type,
 org.apache.parquet.schema.OriginalType&nbsp;originalType,
 int&nbsp;precision,
 int&nbsp;scale)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Builds major type using given <code>OriginalType originalType</code> or <code>PrimitiveTypeName type</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isLogicalListType(org.apache.parquet.schema.GroupType)" class="member-name-link">isLogicalListType</a><wbr>(org.apache.parquet.schema.GroupType&nbsp;groupType)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Checks whether group field approximately matches pattern for Logical Lists:</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isLogicalMapType(org.apache.parquet.schema.GroupType)" class="member-name-link">isLogicalMapType</a><wbr>(org.apache.parquet.schema.GroupType&nbsp;groupType)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Checks whether group field matches pattern for Logical Map type:</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#transformBinaryInMetadataCache(org.apache.drill.exec.store.parquet.metadata.MetadataBase.ParquetTableMetadataBase,org.apache.drill.exec.store.parquet.ParquetReaderConfig)" class="member-name-link">transformBinaryInMetadataCache</a><wbr>(<a href="metadata/MetadataBase.ParquetTableMetadataBase.html" title="class in org.apache.drill.exec.store.parquet.metadata">MetadataBase.ParquetTableMetadataBase</a>&nbsp;parquetTableMetadata,
 <a href="ParquetReaderConfig.html" title="class in org.apache.drill.exec.store.parquet">ParquetReaderConfig</a>&nbsp;readerConfig)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Transforms values for min / max binary statistics to byte array.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone--" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize--" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="JULIAN_DAY_NUMBER_FOR_UNIX_EPOCH">
<h3>JULIAN_DAY_NUMBER_FOR_UNIX_EPOCH</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">JULIAN_DAY_NUMBER_FOR_UNIX_EPOCH</span></div>
<div class="block">Number of days between Julian day epoch (January 1, 4713 BC) and Unix day epoch (January 1, 1970).
 The value of this constant is 2440588L.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.drill.exec.store.parquet.ParquetReaderUtility.JULIAN_DAY_NUMBER_FOR_UNIX_EPOCH">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="CORRECT_CORRUPT_DATE_SHIFT">
<h3>CORRECT_CORRUPT_DATE_SHIFT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">CORRECT_CORRUPT_DATE_SHIFT</span></div>
<div class="block">All old parquet files (which haven't "is.date.correct=true" or "parquet-writer.version" properties
 in metadata) have a corrupt date shift: 4881176L days or 2 * <a href="#JULIAN_DAY_NUMBER_FOR_UNIX_EPOCH">2440588L</a></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.drill.exec.store.parquet.ParquetReaderUtility.CORRECT_CORRUPT_DATE_SHIFT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DATE_CORRUPTION_THRESHOLD">
<h3>DATE_CORRUPTION_THRESHOLD</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">DATE_CORRUPTION_THRESHOLD</span></div>
<div class="block">The year 5000 (or 1106685 day from Unix epoch) is chosen as the threshold for auto-detecting date corruption.
 This balances two possible cases of bad auto-correction. External tools writing dates in the future will not
 be shifted unless they are past this threshold (and we cannot identify them as external files based on the metadata).
 On the other hand, historical dates written with Drill wouldn't risk being incorrectly shifted unless they were
 something like 10,000 years in the past.</div>
</section>
</li>
<li>
<section class="detail" id="DRILL_WRITER_VERSION_STD_DATE_FORMAT">
<h3>DRILL_WRITER_VERSION_STD_DATE_FORMAT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">DRILL_WRITER_VERSION_STD_DATE_FORMAT</span></div>
<div class="block">Version 2 (and later) of the Drill Parquet writer uses the date format described in the
 <a href="https://github.com/Parquet/parquet-format/blob/master/LogicalTypes.md#date">Parquet spec</a>.
 Prior versions had dates formatted with <a href="#CORRECT_CORRUPT_DATE_SHIFT"><code>CORRECT_CORRUPT_DATE_SHIFT</code></a></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.drill.exec.store.parquet.ParquetReaderUtility.DRILL_WRITER_VERSION_STD_DATE_FORMAT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ALLOWED_DRILL_VERSION_FOR_BINARY">
<h3>ALLOWED_DRILL_VERSION_FOR_BINARY</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">ALLOWED_DRILL_VERSION_FOR_BINARY</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#org.apache.drill.exec.store.parquet.ParquetReaderUtility.ALLOWED_DRILL_VERSION_FOR_BINARY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>ParquetReaderUtility</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">ParquetReaderUtility</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="checkDecimalTypeEnabled(org.apache.drill.exec.server.options.OptionManager)">
<h3>checkDecimalTypeEnabled</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">checkDecimalTypeEnabled</span><wbr><span class="parameters">(<a href="../../server/options/OptionManager.html" title="interface in org.apache.drill.exec.server.options">OptionManager</a>&nbsp;options)</span></div>
</section>
</li>
<li>
<section class="detail" id="getIntFromLEBytes(byte[],int)">
<h3>getIntFromLEBytes</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getIntFromLEBytes</span><wbr><span class="parameters">(byte[]&nbsp;input,
 int&nbsp;start)</span></div>
</section>
</li>
<li>
<section class="detail" id="getColNameToSchemaElementMapping(org.apache.parquet.hadoop.metadata.ParquetMetadata)">
<h3>getColNameToSchemaElementMapping</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>org.apache.parquet.format.SchemaElement&gt;</span>&nbsp;<span class="element-name">getColNameToSchemaElementMapping</span><wbr><span class="parameters">(org.apache.parquet.hadoop.metadata.ParquetMetadata&nbsp;footer)</span></div>
<div class="block">Map full schema paths in format `a`.`b`.`c` to respective SchemaElement objects.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>footer</code> - Parquet file metadata</dd>
<dt>Returns:</dt>
<dd>schema full path to SchemaElement map</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFullColumnPath(org.apache.parquet.column.ColumnDescriptor)">
<h3>getFullColumnPath</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getFullColumnPath</span><wbr><span class="parameters">(org.apache.parquet.column.ColumnDescriptor&nbsp;column)</span></div>
<div class="block">generate full path of the column in format `a`.`b`.`c`</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>column</code> - ColumnDescriptor object</dd>
<dt>Returns:</dt>
<dd>full path in format `a`.`b`.`c`</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getColNameToColumnDescriptorMapping(org.apache.parquet.hadoop.metadata.ParquetMetadata)">
<h3>getColNameToColumnDescriptorMapping</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>org.apache.parquet.column.ColumnDescriptor&gt;</span>&nbsp;<span class="element-name">getColNameToColumnDescriptorMapping</span><wbr><span class="parameters">(org.apache.parquet.hadoop.metadata.ParquetMetadata&nbsp;footer)</span></div>
<div class="block">Map full column paths to all ColumnDescriptors in file schema</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>footer</code> - Parquet file metadata</dd>
<dt>Returns:</dt>
<dd>column full path to ColumnDescriptor object map</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="autoCorrectCorruptedDate(int)">
<h3>autoCorrectCorruptedDate</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">autoCorrectCorruptedDate</span><wbr><span class="parameters">(int&nbsp;corruptedDate)</span></div>
</section>
</li>
<li>
<section class="detail" id="correctDatesInMetadataCache(org.apache.drill.exec.store.parquet.metadata.MetadataBase.ParquetTableMetadataBase)">
<h3>correctDatesInMetadataCache</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">correctDatesInMetadataCache</span><wbr><span class="parameters">(<a href="metadata/MetadataBase.ParquetTableMetadataBase.html" title="class in org.apache.drill.exec.store.parquet.metadata">MetadataBase.ParquetTableMetadataBase</a>&nbsp;parquetTableMetadata)</span></div>
</section>
</li>
<li>
<section class="detail" id="transformBinaryInMetadataCache(org.apache.drill.exec.store.parquet.metadata.MetadataBase.ParquetTableMetadataBase,org.apache.drill.exec.store.parquet.ParquetReaderConfig)">
<h3>transformBinaryInMetadataCache</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">transformBinaryInMetadataCache</span><wbr><span class="parameters">(<a href="metadata/MetadataBase.ParquetTableMetadataBase.html" title="class in org.apache.drill.exec.store.parquet.metadata">MetadataBase.ParquetTableMetadataBase</a>&nbsp;parquetTableMetadata,
 <a href="ParquetReaderConfig.html" title="class in org.apache.drill.exec.store.parquet">ParquetReaderConfig</a>&nbsp;readerConfig)</span></div>
<div class="block">Transforms values for min / max binary statistics to byte array.
 Transformation logic depends on metadata file version.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>parquetTableMetadata</code> - table metadata that should be corrected</dd>
<dd><code>readerConfig</code> - parquet reader config</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="detectCorruptDates(org.apache.parquet.hadoop.metadata.ParquetMetadata,java.util.List,boolean)">
<h3>detectCorruptDates</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="ParquetReaderUtility.DateCorruptionStatus.html" title="enum in org.apache.drill.exec.store.parquet">ParquetReaderUtility.DateCorruptionStatus</a></span>&nbsp;<span class="element-name">detectCorruptDates</span><wbr><span class="parameters">(org.apache.parquet.hadoop.metadata.ParquetMetadata&nbsp;footer,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../../common/expression/SchemaPath.html" title="class in org.apache.drill.common.expression">SchemaPath</a>&gt;&nbsp;columns,
 boolean&nbsp;autoCorrectCorruptDates)</span></div>
<div class="block">Check for corrupted dates in a parquet file. See Drill-4203</div>
</section>
</li>
<li>
<section class="detail" id="checkForCorruptDateValuesInStatistics(org.apache.parquet.hadoop.metadata.ParquetMetadata,java.util.List,boolean)">
<h3>checkForCorruptDateValuesInStatistics</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="ParquetReaderUtility.DateCorruptionStatus.html" title="enum in org.apache.drill.exec.store.parquet">ParquetReaderUtility.DateCorruptionStatus</a></span>&nbsp;<span class="element-name">checkForCorruptDateValuesInStatistics</span><wbr><span class="parameters">(org.apache.parquet.hadoop.metadata.ParquetMetadata&nbsp;footer,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../../common/expression/SchemaPath.html" title="class in org.apache.drill.common.expression">SchemaPath</a>&gt;&nbsp;columns,
 boolean&nbsp;autoCorrectCorruptDates)</span></div>
<div class="block">Detect corrupt date values by looking at the min/max values in the metadata.

 This should only be used when a file does not have enough metadata to determine if
 the data was written with an external tool or an older version of Drill
 (<a href="ParquetRecordWriter.html#WRITER_VERSION_PROPERTY"><code>ParquetRecordWriter.WRITER_VERSION_PROPERTY</code></a> &lt;
 <a href="#DRILL_WRITER_VERSION_STD_DATE_FORMAT"><code>DRILL_WRITER_VERSION_STD_DATE_FORMAT</code></a>)

 This method only checks the first Row Group, because Drill has only ever written
 a single Row Group per file.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>footer</code> - parquet footer</dd>
<dd><code>columns</code> - list of columns schema path</dd>
<dd><code>autoCorrectCorruptDates</code> - user setting to allow enabling/disabling of auto-correction
                                of corrupt dates. There are some rare cases (storing dates thousands
                                of years into the future, with tools other than Drill writing files)
                                that would result in the date values being "corrected" into bad values.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getType(org.apache.parquet.schema.PrimitiveType.PrimitiveTypeName,org.apache.parquet.schema.OriginalType,int,int)">
<h3>getType</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="../../../common/types/TypeProtos.MajorType.html" title="class in org.apache.drill.common.types">TypeProtos.MajorType</a></span>&nbsp;<span class="element-name">getType</span><wbr><span class="parameters">(org.apache.parquet.schema.PrimitiveType.PrimitiveTypeName&nbsp;type,
 org.apache.parquet.schema.OriginalType&nbsp;originalType,
 int&nbsp;precision,
 int&nbsp;scale)</span></div>
<div class="block">Builds major type using given <code>OriginalType originalType</code> or <code>PrimitiveTypeName type</code>.
 For DECIMAL will be returned major type with scale and precision.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>type</code> - parquet primitive type</dd>
<dd><code>originalType</code> - parquet original type</dd>
<dd><code>scale</code> - type scale (used for DECIMAL type)</dd>
<dd><code>precision</code> - type precision (used for DECIMAL type)</dd>
<dt>Returns:</dt>
<dd>major type</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMinorType(org.apache.parquet.schema.PrimitiveType.PrimitiveTypeName,org.apache.parquet.schema.OriginalType)">
<h3>getMinorType</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="../../../common/types/TypeProtos.MinorType.html" title="enum in org.apache.drill.common.types">TypeProtos.MinorType</a></span>&nbsp;<span class="element-name">getMinorType</span><wbr><span class="parameters">(org.apache.parquet.schema.PrimitiveType.PrimitiveTypeName&nbsp;type,
 org.apache.parquet.schema.OriginalType&nbsp;originalType)</span></div>
<div class="block">Builds minor type using given <code>OriginalType originalType</code> or <code>PrimitiveTypeName type</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>type</code> - parquet primitive type</dd>
<dd><code>originalType</code> - parquet original type</dd>
<dt>Returns:</dt>
<dd>minor type</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="containsComplexColumn(org.apache.parquet.hadoop.metadata.ParquetMetadata,java.util.List)">
<h3>containsComplexColumn</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">containsComplexColumn</span><wbr><span class="parameters">(org.apache.parquet.hadoop.metadata.ParquetMetadata&nbsp;footer,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../../common/expression/SchemaPath.html" title="class in org.apache.drill.common.expression">SchemaPath</a>&gt;&nbsp;columns)</span></div>
<div class="block">Check whether any of columns in the given list is either nested or repetitive.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>footer</code> - Parquet file schema</dd>
<dd><code>columns</code> - list of query SchemaPath objects</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getComplexTypes(java.util.List)">
<h3>getComplexTypes</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../../common/types/TypeProtos.MajorType.html" title="class in org.apache.drill.common.types">TypeProtos.MajorType</a>&gt;</span>&nbsp;<span class="element-name">getComplexTypes</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;org.apache.parquet.schema.OriginalType&gt;&nbsp;originalTypes)</span></div>
<div class="block">Converts list of <code>OriginalType</code>s to list of <a href="../../../common/types/TypeProtos.MajorType.html" title="class in org.apache.drill.common.types"><code>TypeProtos.MajorType</code></a>s.
 <b>NOTE</b>: current implementation cares about <code>OriginalType.MAP</code> and <code>OriginalType.LIST</code> only
 converting it to <a href="../../../common/types/TypeProtos.MinorType.html#DICT"><code>TypeProtos.MinorType.DICT</code></a>
 and <a href="../../../common/types/TypeProtos.MinorType.html#LIST"><code>TypeProtos.MinorType.LIST</code></a> respectively.
 Other original types are converted to <code>null</code>, because there is no certain correspondence
 (and, actually, a need because these types are used to differentiate between Drill's MAP and DICT (and arrays of thereof) types
 when constructing <a href="../../record/metadata/TupleSchema.html" title="class in org.apache.drill.exec.record.metadata"><code>TupleSchema</code></a>) between these two.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>originalTypes</code> - list of Parquet's types</dd>
<dt>Returns:</dt>
<dd>list containing either <code>null</code> or type with minor
         type <a href="../../../common/types/TypeProtos.MinorType.html#DICT"><code>TypeProtos.MinorType.DICT</code></a> or
         <a href="../../../common/types/TypeProtos.MinorType.html#LIST"><code>TypeProtos.MinorType.LIST</code></a> values</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isLogicalListType(org.apache.parquet.schema.GroupType)">
<h3>isLogicalListType</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isLogicalListType</span><wbr><span class="parameters">(org.apache.parquet.schema.GroupType&nbsp;groupType)</span></div>
<div class="block">Checks whether group field approximately matches pattern for Logical Lists:
 <pre>
 &lt;list-repetition&gt; group &lt;name&gt; (LIST) {
   repeated group list {
     &lt;element-repetition&gt; &lt;element-type&gt; element;
   }
 }
 </pre>
 (See for more details: https://github.com/apache/parquet-format/blob/master/LogicalTypes.md#lists)

 Note, that standard field names 'list' and 'element' aren't checked intentionally,
 because Hive lists have 'bag' and 'array_element' names instead.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>groupType</code> - type which may have LIST original type</dd>
<dt>Returns:</dt>
<dd>whether the type is LIST and nested field is repeated group</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="https://github.com/apache/parquet-format/blob/master/LogicalTypes.md#lists">Parquet List logical type</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isLogicalMapType(org.apache.parquet.schema.GroupType)">
<h3>isLogicalMapType</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isLogicalMapType</span><wbr><span class="parameters">(org.apache.parquet.schema.GroupType&nbsp;groupType)</span></div>
<div class="block">Checks whether group field matches pattern for Logical Map type:

 <pre>
 &lt;map-repetition&gt; group &lt;name&gt; (MAP) {
   repeated group key_value {
     required &lt;key-type&gt; key;
     &lt;value-repetition&gt; &lt;value-type&gt; value;
   }
 }
 </pre>

 Note, that actual group names are not checked specifically.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>groupType</code> - parquet type which may be of MAP type</dd>
<dt>Returns:</dt>
<dd>whether the type is MAP</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="https://github.com/apache/parquet-format/blob/master/LogicalTypes.md#maps">Parquet Map logical type</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDataMode(org.apache.parquet.schema.Type.Repetition)">
<h3>getDataMode</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="../../../common/types/TypeProtos.DataMode.html" title="enum in org.apache.drill.common.types">TypeProtos.DataMode</a></span>&nbsp;<span class="element-name">getDataMode</span><wbr><span class="parameters">(org.apache.parquet.schema.Type.Repetition&nbsp;repetition)</span></div>
<div class="block">Converts Parquet's <code>Type.Repetition</code> to Drill's <a href="../../../common/types/TypeProtos.DataMode.html" title="enum in org.apache.drill.common.types"><code>TypeProtos.DataMode</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>repetition</code> - repetition to be converted</dd>
<dt>Returns:</dt>
<dd>data mode corresponding to Parquet's repetition</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2023 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
