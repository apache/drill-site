<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>StoragePluginRegistryImpl (Drill : 1.21.2-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.drill.exec.store, class: StoragePluginRegistryImpl">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/StoragePluginRegistryImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.drill.exec.store</a></div>
<h1 title="Class StoragePluginRegistryImpl" class="title">Class StoragePluginRegistryImpl</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.drill.exec.store.StoragePluginRegistryImpl</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code>, <code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html" title="class or interface in java.util" class="external-link">Map.Entry</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="StoragePlugin.html" title="interface in org.apache.drill.exec.store">StoragePlugin</a>&gt;&gt;</code>, <code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">StoragePluginRegistryImpl</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></span></div>
<div class="block">Plugin registry. Caches plugin instances which correspond to configurations
 stored in persistent storage. Synchronizes the instances and storage.
 <p>
 Allows multiple "locators" to provide plugin classes such as the "classic"
 version for classes in the same class loader, the "system" version for
 system-defined plugins.
 <p>
 provides multiple layers of abstraction:
 <ul>
 <li>A plugin config/implementation pair (called a "connector" here)
 is located by</li>
 <li>A connector locator, which also provides bootstrap plugins and can
 create a plugin instance from a configuration, which are cached in</li>
 <li>The plugin cache, which holds stored, system and ad-hoc plugins. The
 stored plugins are backed by</li>
 <li>A persistent store: the file system for tests and embedded, ZK for
 a distibuted server, or</li>
 <li>An ephemeral cache for unnamed configs, such as those created by
 a table function.</li>
 </ul>
 <p>
 The idea is to push most functionality into the above abstractions,
 leaving overall coordination here.
 <p>
 Plugins themselves have multiple levels of definitions:
 <ul>
 <li>The config and plugin classes, provided by the locator.</li>
 <li>The <a href="ConnectorHandle.html" title="class in org.apache.drill.exec.store"><code>ConnectorHandle</code></a> which defines the config class and
 the locator which can create instances of that class.</li>
 <li>A config instance which is typically deserialized from JSON
 independent of the implementation class.</li>
 <li>A <a href="PluginHandle.html" title="class in org.apache.drill.exec.store"><code>PluginHandle</code></a> which pairs the config with a name as
 the unit that the user thinks of as a "plugin." The plugin entry
 links to the <code>ConnectorEntry</code> to create the instance lazily
 when first requested.</li>
 <li>The plugin class instance, which provides long-term state and
 which provides the logic for the plugin.</li>
 </ul>

 <h4>Concurrency</h4>

 Drill is a concurrent system; multiple users can attempt to add, remove
 and update plugin configurations at the same time. The only good
 solution would be to version the plugin configs. Instead, we rely on
 the fact that configs change infrequently.
 <p>
 The code syncs the in-memory cache with the persistent store on each
 access (which is actually inefficient and should be reviewed.)
 <p>
 During refresh, it could be that another thread is doing exactly
 the same thing, or even fighting us by changing the config. It is
 impossible to ensure a totally consistent answer. The goal is to
 make sure that the cache ends up agreeing with the persistent store
 as it was at some point in time.
 <p>
 The <code>StoragePluginMap</code> class provides in-memory synchronization of the
 name and config maps. Careful coding is needed when handling refresh
 since another thread could make the same changes.
 <p>
 Once the planner obtains a plugin, another user could come along and
 change the config for that plugin. Drill treats that change as another
 plugin: the original one continues to be used by the planner (but see
 below), while new queries use the new version.
 <p>
 Since the config on remote servers may have changed relative to the one
 this Foreman used for planning, the plan includes the plugin config
 itself (not just a reference to the config.) This works because the
 config is usually small.

 <h4>Ephemeral Plugins</h4>

 An ephemeral plugin handles table functions which create a temporary,
 unnamed configuration that is needed only for the execution of a
 single query, but which may be used across many threads. If the same
 table function is used multiple times, then the same ephemeral plugin
 will be used across queries. Ephemeral plugins are are based on the
 same connectors as stored plugins, but are not visible to the planner.
 They will expire after some time or number.
 <p>
 The ephemeral store also acts as a graveyard for deleted or changed
 plugins. When removing a plugin, the old plugin is moved to ephemeral
 storage to allow running queries to locate it. Similarly, when a
 new configuration is stored, the corresponding plugin is retrieved
 from ephemeral storage, if it exists. This avoids odd cases where
 the same plugin exists in both normal and ephemeral storage.

 <h4>Caveats</h4>

 The main problem with synchronization at present is that plugins
 provide a <code>close()</code> method that, if used, could render the
 plugin unusable. Suppose a Cassandra plugin, say, maintains a connection
 to a server used across multiple queries and threads. Any change to
 the config immediately calls <code>close()</code> on the plugin, even though
 it may be in use in planning a query on another thread. Random failures
 will result.
 <p>
 The same issue can affect ephemeral plugins: if the number in the cache
 reaches the limit, the registry will start closing old ones, without
 knowning if that plugin is actually in use.
 <p>
 The workaround is to not actually honor the <code>close()</code> call. Longer
 term, a reference count is needed.

 <h4>Error Handling</h4>

 Error handling needs review. Those problems that result from user actions
 should be raised as a <code>UserException</code>. Those that violate invariants
 as other forms of exception.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="inherited-list">
<h2 id="nested-classes-inherited-from-class-org.apache.drill.exec.store.StoragePluginRegistry">Nested classes/interfaces inherited from interface&nbsp;org.apache.drill.exec.store.<a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></h2>
<code><a href="StoragePluginRegistry.PluginEncodingException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginEncodingException</a>, <a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a>, <a href="StoragePluginRegistry.PluginFilter.html" title="enum in org.apache.drill.exec.store">StoragePluginRegistry.PluginFilter</a>, <a href="StoragePluginRegistry.PluginNotFoundException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginNotFoundException</a></code></div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-org.apache.drill.exec.store.StoragePluginRegistry">Fields inherited from interface&nbsp;org.apache.drill.exec.store.<a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></h3>
<code><a href="StoragePluginRegistry.html#PSTORE_NAME">PSTORE_NAME</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.apache.drill.exec.server.DrillbitContext)" class="member-name-link">StoragePluginRegistryImpl</a><wbr>(<a href="../server/DrillbitContext.html" title="class in org.apache.drill.exec.server">DrillbitContext</a>&nbsp;context)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#availablePlugins()" class="member-name-link">availablePlugins</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the set of available plugin names.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#copyConfig(java.lang.String)" class="member-name-link">copyConfig</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Copy a stored config so that it can be modified.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#copyConfig(org.apache.drill.common.logical.StoragePluginConfig)" class="member-name-link">copyConfig</a><wbr>(<a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;orig)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Copy the given storage plugin config so it may be modified.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#copyPluginStatus(org.apache.drill.common.logical.StoragePluginConfig,org.apache.drill.common.logical.StoragePluginConfig)" class="member-name-link">copyPluginStatus</a><wbr>(<a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;oldPluginConfig,
 <a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;newPluginConfig)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Identifies the enabled status for new storage plugins
 config.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#decode(java.lang.String)" class="member-name-link">decode</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;json)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return a config decoded from JSON.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#enabledConfigs()" class="member-name-link">enabledConfigs</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a copy of the set of enabled stored plugin configurations.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#encode(java.lang.String)" class="member-name-link">encode</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return a config encoded as JSON.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#encode(org.apache.drill.common.logical.StoragePluginConfig)" class="member-name-link">encode</a><wbr>(<a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;config)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDefinedConfig(java.lang.String)" class="member-name-link">getDefinedConfig</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieve an available configuration.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="dfs/FormatPlugin.html" title="interface in org.apache.drill.exec.store.dfs">FormatPlugin</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getFormatPlugin(org.apache.drill.common.logical.StoragePluginConfig,org.apache.drill.common.logical.FormatPluginConfig)" class="member-name-link">getFormatPlugin</a><wbr>(<a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;storageConfig,
 <a href="../../common/logical/FormatPluginConfig.html" title="interface in org.apache.drill.common.logical">FormatPluginConfig</a>&nbsp;formatConfig)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="dfs/FormatPlugin.html" title="interface in org.apache.drill.exec.store.dfs">FormatPlugin</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getFormatPluginByConfig(org.apache.drill.common.logical.StoragePluginConfig,org.apache.drill.common.logical.FormatPluginConfig)" class="member-name-link">getFormatPluginByConfig</a><wbr>(<a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;storageConfig,
 <a href="../../common/logical/FormatPluginConfig.html" title="interface in org.apache.drill.common.logical">FormatPluginConfig</a>&nbsp;formatConfig)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the Format plugin for the FileSystemPlugin associated with the provided
 storage config and format config.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="StoragePlugin.html" title="interface in org.apache.drill.exec.store">StoragePlugin</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPlugin(java.lang.String)" class="member-name-link">getPlugin</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get a plugin by name.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="StoragePlugin.html" title="interface in org.apache.drill.exec.store">StoragePlugin</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPlugin(org.apache.drill.common.logical.StoragePluginConfig)" class="member-name-link">getPlugin</a><wbr>(<a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;config)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="StoragePlugin.html" title="interface in org.apache.drill.exec.store">StoragePlugin</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPluginByConfig(org.apache.drill.common.logical.StoragePluginConfig)" class="member-name-link">getPluginByConfig</a><wbr>(<a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;config)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get a plugin by configuration.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="SchemaFactory.html" title="interface in org.apache.drill.exec.store">SchemaFactory</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSchemaFactory()" class="member-name-link">getSchemaFactory</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the Schema factory associated with this storage plugin registry.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getStoredConfig(java.lang.String)" class="member-name-link">getStoredConfig</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Configs are obtained from the persistent store.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#init()" class="member-name-link">init</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Initialize the storage plugin registry.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html" title="class or interface in java.util" class="external-link">Iterator</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html" title="class or interface in java.util" class="external-link">Map.Entry</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="StoragePlugin.html" title="interface in org.apache.drill.exec.store">StoragePlugin</a>&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#iterator()" class="member-name-link">iterator</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>com.fasterxml.jackson.databind.ObjectMapper</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#mapper()" class="member-name-link">mapper</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Object mapper to read/write the JSON form of a plugin.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#put(java.lang.String,org.apache.drill.common.logical.StoragePluginConfig)" class="member-name-link">put</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;config)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Store a plugin by name and configuration.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#putFormatPlugin(java.lang.String,java.lang.String,org.apache.drill.common.logical.FormatPluginConfig)" class="member-name-link">putFormatPlugin</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pluginName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;formatName,
 <a href="../../common/logical/FormatPluginConfig.html" title="interface in org.apache.drill.common.logical">FormatPluginConfig</a>&nbsp;formatConfig)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Safe way to add or remove a format plugin config from a stored file
 system configuration.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#putJson(java.lang.String,java.lang.String)" class="member-name-link">putJson</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;json)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Put a storage plugin config from JSON.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#remove(java.lang.String)" class="member-name-link">remove</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove a plugin by name</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;T extends <a href="StoragePlugin.html" title="interface in org.apache.drill.exec.store">StoragePlugin</a>&gt;<br>T</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#resolve(org.apache.drill.common.logical.StoragePluginConfig,java.lang.Class)" class="member-name-link">resolve</a><wbr>(<a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;storageConfig,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;desired)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;T extends <a href="dfs/FormatPlugin.html" title="interface in org.apache.drill.exec.store.dfs">FormatPlugin</a>&gt;<br>T</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#resolveFormat(org.apache.drill.common.logical.StoragePluginConfig,org.apache.drill.common.logical.FormatPluginConfig,java.lang.Class)" class="member-name-link">resolveFormat</a><wbr>(<a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;storageConfig,
 <a href="../../common/logical/FormatPluginConfig.html" title="interface in org.apache.drill.common.logical">FormatPluginConfig</a>&nbsp;formatConfig,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;desired)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Resolve a storage plugin given a storage plugin config.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setEnabled(java.lang.String,boolean)" class="member-name-link">setEnabled</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 boolean&nbsp;enable)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set the plugin to the requested enabled state.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#storedConfigs()" class="member-name-link">storedConfigs</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a set of all stored plugin configurations,
 directly from the persistent store.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#storedConfigs(org.apache.drill.exec.store.StoragePluginRegistry.PluginFilter)" class="member-name-link">storedConfigs</a><wbr>(<a href="StoragePluginRegistry.PluginFilter.html" title="enum in org.apache.drill.exec.store">StoragePluginRegistry.PluginFilter</a>&nbsp;filter)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return a possibly-filtered set of plugins from the persistent
 store.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#validatedPut(java.lang.String,org.apache.drill.common.logical.StoragePluginConfig)" class="member-name-link">validatedPut</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;config)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Like <a href="StoragePluginRegistry.html#put(java.lang.String,org.apache.drill.common.logical.StoragePluginConfig)"><code>StoragePluginRegistry.put(String, StoragePluginConfig)</code></a>, but forces instantiation of the
 plugin to verify that the configuration is valid at this moment in time.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone--" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize--" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Iterable">Methods inherited from interface&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-" title="class or interface in java.lang" class="external-link">forEach</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#spliterator--" title="class or interface in java.lang" class="external-link">spliterator</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.apache.drill.exec.server.DrillbitContext)">
<h3>StoragePluginRegistryImpl</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">StoragePluginRegistryImpl</span><wbr><span class="parameters">(<a href="../server/DrillbitContext.html" title="class in org.apache.drill.exec.server">DrillbitContext</a>&nbsp;context)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="init()">
<h3>init</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">init</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoragePluginRegistry.html#init()">StoragePluginRegistry</a></code></span></div>
<div class="block">Initialize the storage plugin registry. Must be called before the registry
 is used.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#init()">init</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="copyPluginStatus(org.apache.drill.common.logical.StoragePluginConfig,org.apache.drill.common.logical.StoragePluginConfig)">
<h3>copyPluginStatus</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">copyPluginStatus</span><wbr><span class="parameters">(<a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;oldPluginConfig,
 <a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;newPluginConfig)</span></div>
<div class="block">Identifies the enabled status for new storage plugins
 config. If this status is absent in the updater file, the status is kept
 from the configs, which are going to be updated</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>oldPluginConfig</code> - current storage plugin config from Persistent Store or bootstrap
          config file</dd>
<dd><code>newPluginConfig</code> - new storage plugin config</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="put(java.lang.String,org.apache.drill.common.logical.StoragePluginConfig)">
<h3>put</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">put</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;config)</span>
         throws <span class="exceptions"><a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoragePluginRegistry.html#put(java.lang.String,org.apache.drill.common.logical.StoragePluginConfig)">StoragePluginRegistry</a></code></span></div>
<div class="block">Store a plugin by name and configuration. If the plugin already exists,
 update the plugin. This form directly updates persistent storage. The
 in-memory cache is updated on the next refresh. This form will accept an
 invalid plugin, which will be disabled upon refresh. Since Drill is
 distributed, and plugins work with external systems, the external system
 can become invalid at any moment (not just when pugins are updated), so the
 model used for <code>put()</code> mimics normal runtime operation.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#put(java.lang.String,org.apache.drill.common.logical.StoragePluginConfig)">put</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
<dt>Parameters:</dt>
<dd><code>name</code> - The name of the plugin</dd>
<dd><code>config</code> - The plugin configuration</dd>
<dt>Throws:</dt>
<dd><code><a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a></code> - if plugin cannot be created</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="validatedPut(java.lang.String,org.apache.drill.common.logical.StoragePluginConfig)">
<h3>validatedPut</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">validatedPut</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;config)</span>
                  throws <span class="exceptions"><a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoragePluginRegistry.html#validatedPut(java.lang.String,org.apache.drill.common.logical.StoragePluginConfig)">StoragePluginRegistry</a></code></span></div>
<div class="block">Like <a href="StoragePluginRegistry.html#put(java.lang.String,org.apache.drill.common.logical.StoragePluginConfig)"><code>StoragePluginRegistry.put(String, StoragePluginConfig)</code></a>, but forces instantiation of the
 plugin to verify that the configuration is valid at this moment in time.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#validatedPut(java.lang.String,org.apache.drill.common.logical.StoragePluginConfig)">validatedPut</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setEnabled(java.lang.String,boolean)">
<h3>setEnabled</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setEnabled</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 boolean&nbsp;enable)</span>
                throws <span class="exceptions"><a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoragePluginRegistry.html#setEnabled(java.lang.String,boolean)">StoragePluginRegistry</a></code></span></div>
<div class="block">Set the plugin to the requested enabled state. Does nothing if the plugin
 is already in the requested state. If a formerly enabled plugin is
 disabled, moves the plugin from the in-memory cache to the ephemeral
 store. If a formerly disabled plugin is enabled, verifies that the plugin
 can be instantiated as for <code>#verifiedPut()</code>.
 <p>
 Use this method when changing state. Do not obtain the config and change
 the state directly, doing so will make the plugin config inconsistent
 with the internal state.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#setEnabled(java.lang.String,boolean)">setEnabled</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
<dt>Parameters:</dt>
<dd><code>name</code> - name of the plugin</dd>
<dd><code>enable</code> - <code>true</code> to enable the plugin, <code>false</code> to disable</dd>
<dt>Throws:</dt>
<dd><code><a href="StoragePluginRegistry.PluginNotFoundException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginNotFoundException</a></code> - if the plugin is not found</dd>
<dd><code><a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a></code> - if the plugin name is not valid or
 if enabling a plugin and the plugin is not valid</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getStoredConfig(java.lang.String)">
<h3>getStoredConfig</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a></span>&nbsp;<span class="element-name">getStoredConfig</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</span></div>
<div class="block">Configs are obtained from the persistent store. This method is
 called only by the UI to edit a stored plugin; so no benefit to
 using the cache. We also want a plugin even if it is disabled,
 and disabled plugins do not reside in the cache.
 <p>
 Note that each call (depending on the store implementation)
 may return a distinct instance of the config. The instance will
 be equal (unless the stored version changes.) However, other
 versions of the store may return the same instance as is in
 the cache. So, <b>do not</b> modify the returned config.
 To modify the config, call <a href="#copyConfig(java.lang.String)"><code>copyConfig(String)</code></a> instead.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#getStoredConfig(java.lang.String)">getStoredConfig</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="copyConfig(java.lang.String)">
<h3>copyConfig</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a></span>&nbsp;<span class="element-name">copyConfig</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</span>
                               throws <span class="exceptions"><a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoragePluginRegistry.html#copyConfig(java.lang.String)">StoragePluginRegistry</a></code></span></div>
<div class="block">Copy a stored config so that it can be modified.
 <p>
 <i><b>Never modify a config stored in the registry!</b></i>
 Configs are keyed by name and value; getting a config, then
 modifying it, will cause the value maps to become out of sync.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#copyConfig(java.lang.String)">copyConfig</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
<dt>Parameters:</dt>
<dd><code>name</code> - name of the storage plugin config to copy</dd>
<dt>Returns:</dt>
<dd>a copy of the config</dd>
<dt>Throws:</dt>
<dd><code><a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a></code> - if the name is undefined</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="encode(org.apache.drill.common.logical.StoragePluginConfig)">
<h3>encode</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">encode</span><wbr><span class="parameters">(<a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;config)</span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#encode(org.apache.drill.common.logical.StoragePluginConfig)">encode</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="encode(java.lang.String)">
<h3>encode</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">encode</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</span>
              throws <span class="exceptions"><a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoragePluginRegistry.html#encode(java.lang.String)">StoragePluginRegistry</a></code></span></div>
<div class="block">Return a config encoded as JSON.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#encode(java.lang.String)">encode</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a></code> - if the plugin is undefined</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="decode(java.lang.String)">
<h3>decode</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a></span>&nbsp;<span class="element-name">decode</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;json)</span>
                           throws <span class="exceptions"><a href="StoragePluginRegistry.PluginEncodingException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginEncodingException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoragePluginRegistry.html#decode(java.lang.String)">StoragePluginRegistry</a></code></span></div>
<div class="block">Return a config decoded from JSON.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#decode(java.lang.String)">decode</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="StoragePluginRegistry.PluginEncodingException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginEncodingException</a></code> - if the JSON is invalid</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="putJson(java.lang.String,java.lang.String)">
<h3>putJson</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">putJson</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;json)</span>
             throws <span class="exceptions"><a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoragePluginRegistry.html#putJson(java.lang.String,java.lang.String)">StoragePluginRegistry</a></code></span></div>
<div class="block">Put a storage plugin config from JSON. Validates the JSON and the
 resulting storage plugin. Use this form for JSON received from
 the UI or other external source.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#putJson(java.lang.String,java.lang.String)">putJson</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a></code> - if the underlying
 <a href="StoragePluginRegistry.html#validatedPut(java.lang.String,org.apache.drill.common.logical.StoragePluginConfig)"><code>StoragePluginRegistry.validatedPut(String, StoragePluginConfig)</code></a> fails</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="copyConfig(org.apache.drill.common.logical.StoragePluginConfig)">
<h3>copyConfig</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a></span>&nbsp;<span class="element-name">copyConfig</span><wbr><span class="parameters">(<a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;orig)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoragePluginRegistry.html#copyConfig(org.apache.drill.common.logical.StoragePluginConfig)">StoragePluginRegistry</a></code></span></div>
<div class="block">Copy the given storage plugin config so it may be modified.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#copyConfig(org.apache.drill.common.logical.StoragePluginConfig)">copyConfig</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
<dt>Parameters:</dt>
<dd><code>orig</code> - the storage plugin config to copy</dd>
<dt>Returns:</dt>
<dd>the copy</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDefinedConfig(java.lang.String)">
<h3>getDefinedConfig</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a></span>&nbsp;<span class="element-name">getDefinedConfig</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoragePluginRegistry.html#getDefinedConfig(java.lang.String)">StoragePluginRegistry</a></code></span></div>
<div class="block">Retrieve an available configuration. Returns enabled stored plugins
 and system plugins. These configs are those that can be used to
 plan a query.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#getDefinedConfig(java.lang.String)">getDefinedConfig</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPlugin(java.lang.String)">
<h3>getPlugin</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="StoragePlugin.html" title="interface in org.apache.drill.exec.store">StoragePlugin</a></span>&nbsp;<span class="element-name">getPlugin</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</span>
                        throws <span class="exceptions"><a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoragePluginRegistry.html#getPlugin(java.lang.String)">StoragePluginRegistry</a></code></span></div>
<div class="block">Get a plugin by name. Create it based on the PStore saved definition if it doesn't exist.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#getPlugin(java.lang.String)">getPlugin</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
<dt>Parameters:</dt>
<dd><code>name</code> - The name of the plugin</dd>
<dt>Returns:</dt>
<dd>The StoragePlugin instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a></code> - if plugin cannot be obtained</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPlugin(org.apache.drill.common.logical.StoragePluginConfig)">
<h3>getPlugin</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="StoragePlugin.html" title="interface in org.apache.drill.exec.store">StoragePlugin</a></span>&nbsp;<span class="element-name">getPlugin</span><wbr><span class="parameters">(<a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;config)</span>
                        throws <span class="exceptions"><a href="../../common/exceptions/ExecutionSetupException.html" title="class in org.apache.drill.common.exceptions">ExecutionSetupException</a></span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#getPlugin(org.apache.drill.common.logical.StoragePluginConfig)">getPlugin</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../common/exceptions/ExecutionSetupException.html" title="class in org.apache.drill.common.exceptions">ExecutionSetupException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPluginByConfig(org.apache.drill.common.logical.StoragePluginConfig)">
<h3>getPluginByConfig</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="StoragePlugin.html" title="interface in org.apache.drill.exec.store">StoragePlugin</a></span>&nbsp;<span class="element-name">getPluginByConfig</span><wbr><span class="parameters">(<a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;config)</span>
                                throws <span class="exceptions"><a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoragePluginRegistry.html#getPluginByConfig(org.apache.drill.common.logical.StoragePluginConfig)">StoragePluginRegistry</a></code></span></div>
<div class="block">Get a plugin by configuration. If it doesn't exist, create it.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#getPluginByConfig(org.apache.drill.common.logical.StoragePluginConfig)">getPluginByConfig</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
<dt>Parameters:</dt>
<dd><code>config</code> - The configuration for the plugin.</dd>
<dt>Returns:</dt>
<dd>The StoragePlugin instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a></code> - if plugin cannot be obtained</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="remove(java.lang.String)">
<h3>remove</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">remove</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</span>
            throws <span class="exceptions"><a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoragePluginRegistry.html#remove(java.lang.String)">StoragePluginRegistry</a></code></span></div>
<div class="block">Remove a plugin by name</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#remove(java.lang.String)">remove</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
<dt>Parameters:</dt>
<dd><code>name</code> - The name of the storage plugin to remove</dd>
<dt>Throws:</dt>
<dd><code><a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="storedConfigs()">
<h3>storedConfigs</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&gt;</span>&nbsp;<span class="element-name">storedConfigs</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoragePluginRegistry.html#storedConfigs()">StoragePluginRegistry</a></code></span></div>
<div class="block">Returns a set of all stored plugin configurations,
 directly from the persistent store. Note: the actual
 configs may reside in the cache; make a copy before
 making any changes.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#storedConfigs()">storedConfigs</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
<dt>Returns:</dt>
<dd>map of stored plugin configurations</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="storedConfigs(org.apache.drill.exec.store.StoragePluginRegistry.PluginFilter)">
<h3>storedConfigs</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&gt;</span>&nbsp;<span class="element-name">storedConfigs</span><wbr><span class="parameters">(<a href="StoragePluginRegistry.PluginFilter.html" title="enum in org.apache.drill.exec.store">StoragePluginRegistry.PluginFilter</a>&nbsp;filter)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoragePluginRegistry.html#storedConfigs(org.apache.drill.exec.store.StoragePluginRegistry.PluginFilter)">StoragePluginRegistry</a></code></span></div>
<div class="block">Return a possibly-filtered set of plugins from the persistent
 store.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#storedConfigs(org.apache.drill.exec.store.StoragePluginRegistry.PluginFilter)">storedConfigs</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="enabledConfigs()">
<h3>enabledConfigs</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&gt;</span>&nbsp;<span class="element-name">enabledConfigs</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoragePluginRegistry.html#enabledConfigs()">StoragePluginRegistry</a></code></span></div>
<div class="block">Returns a copy of the set of enabled stored plugin configurations.
 The registry is refreshed against the persistent store prior
 to building the map.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#enabledConfigs()">enabledConfigs</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
<dt>Returns:</dt>
<dd>map of enabled, stored plugin configurations</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="putFormatPlugin(java.lang.String,java.lang.String,org.apache.drill.common.logical.FormatPluginConfig)">
<h3>putFormatPlugin</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">putFormatPlugin</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pluginName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;formatName,
 <a href="../../common/logical/FormatPluginConfig.html" title="interface in org.apache.drill.common.logical">FormatPluginConfig</a>&nbsp;formatConfig)</span>
                     throws <span class="exceptions"><a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoragePluginRegistry.html#putFormatPlugin(java.lang.String,java.lang.String,org.apache.drill.common.logical.FormatPluginConfig)">StoragePluginRegistry</a></code></span></div>
<div class="block">Safe way to add or remove a format plugin config from a stored file
 system configuration. Makes a copy of the config, adds/removes the
 format plugin, and updates the persistent store with the copy.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#putFormatPlugin(java.lang.String,java.lang.String,org.apache.drill.common.logical.FormatPluginConfig)">putFormatPlugin</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
<dt>Parameters:</dt>
<dd><code>pluginName</code> - name of the file system storage plugin config to
 modify</dd>
<dd><code>formatName</code> - name of the format plugin to modify</dd>
<dd><code>formatConfig</code> - if null, removes the plugin, if non-null updates
 the format plugin config with this value</dd>
<dt>Throws:</dt>
<dd><code><a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a></code> - if the storage plugin is undefined or
 is not a file format plugin</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFormatPluginByConfig(org.apache.drill.common.logical.StoragePluginConfig,org.apache.drill.common.logical.FormatPluginConfig)">
<h3>getFormatPluginByConfig</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="dfs/FormatPlugin.html" title="interface in org.apache.drill.exec.store.dfs">FormatPlugin</a></span>&nbsp;<span class="element-name">getFormatPluginByConfig</span><wbr><span class="parameters">(<a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;storageConfig,
 <a href="../../common/logical/FormatPluginConfig.html" title="interface in org.apache.drill.common.logical">FormatPluginConfig</a>&nbsp;formatConfig)</span>
                                     throws <span class="exceptions"><a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoragePluginRegistry.html#getFormatPluginByConfig(org.apache.drill.common.logical.StoragePluginConfig,org.apache.drill.common.logical.FormatPluginConfig)">StoragePluginRegistry</a></code></span></div>
<div class="block">Get the Format plugin for the FileSystemPlugin associated with the provided
 storage config and format config.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#getFormatPluginByConfig(org.apache.drill.common.logical.StoragePluginConfig,org.apache.drill.common.logical.FormatPluginConfig)">getFormatPluginByConfig</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
<dt>Parameters:</dt>
<dd><code>storageConfig</code> - The storage config for the associated FileSystemPlugin</dd>
<dd><code>formatConfig</code> - The format config for the associated FormatPlugin</dd>
<dt>Returns:</dt>
<dd>A FormatPlugin instance</dd>
<dt>Throws:</dt>
<dd><code><a href="StoragePluginRegistry.PluginException.html" title="class in org.apache.drill.exec.store">StoragePluginRegistry.PluginException</a></code> - if plugin cannot be obtained</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFormatPlugin(org.apache.drill.common.logical.StoragePluginConfig,org.apache.drill.common.logical.FormatPluginConfig)">
<h3>getFormatPlugin</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="dfs/FormatPlugin.html" title="interface in org.apache.drill.exec.store.dfs">FormatPlugin</a></span>&nbsp;<span class="element-name">getFormatPlugin</span><wbr><span class="parameters">(<a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;storageConfig,
 <a href="../../common/logical/FormatPluginConfig.html" title="interface in org.apache.drill.common.logical">FormatPluginConfig</a>&nbsp;formatConfig)</span>
                             throws <span class="exceptions"><a href="../../common/exceptions/ExecutionSetupException.html" title="class in org.apache.drill.common.exceptions">ExecutionSetupException</a></span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#getFormatPlugin(org.apache.drill.common.logical.StoragePluginConfig,org.apache.drill.common.logical.FormatPluginConfig)">getFormatPlugin</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../common/exceptions/ExecutionSetupException.html" title="class in org.apache.drill.common.exceptions">ExecutionSetupException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSchemaFactory()">
<h3>getSchemaFactory</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="SchemaFactory.html" title="interface in org.apache.drill.exec.store">SchemaFactory</a></span>&nbsp;<span class="element-name">getSchemaFactory</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoragePluginRegistry.html#getSchemaFactory()">StoragePluginRegistry</a></code></span></div>
<div class="block">Get the Schema factory associated with this storage plugin registry.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#getSchemaFactory()">getSchemaFactory</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
<dt>Returns:</dt>
<dd>A SchemaFactory that can register the schemas associated with this plugin registry.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="iterator()">
<h3>iterator</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html" title="class or interface in java.util" class="external-link">Iterator</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html" title="class or interface in java.util" class="external-link">Map.Entry</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="StoragePlugin.html" title="interface in org.apache.drill.exec.store">StoragePlugin</a>&gt;&gt;</span>&nbsp;<span class="element-name">iterator</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#iterator--" title="class or interface in java.lang" class="external-link">iterator</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html" title="class or interface in java.util" class="external-link">Map.Entry</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="StoragePlugin.html" title="interface in org.apache.drill.exec.store">StoragePlugin</a>&gt;&gt;</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()
           throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html#close--" title="class or interface in java.lang" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="mapper()">
<h3>mapper</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">com.fasterxml.jackson.databind.ObjectMapper</span>&nbsp;<span class="element-name">mapper</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoragePluginRegistry.html#mapper()">StoragePluginRegistry</a></code></span></div>
<div class="block">Object mapper to read/write the JSON form of a plugin.
 config.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#mapper()">mapper</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="resolve(org.apache.drill.common.logical.StoragePluginConfig,java.lang.Class)">
<h3>resolve</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;T extends <a href="StoragePlugin.html" title="interface in org.apache.drill.exec.store">StoragePlugin</a>&gt;</span>&nbsp;<span class="return-type">T</span>&nbsp;<span class="element-name">resolve</span><wbr><span class="parameters">(<a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;storageConfig,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;desired)</span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#resolve(org.apache.drill.common.logical.StoragePluginConfig,java.lang.Class)">resolve</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="resolveFormat(org.apache.drill.common.logical.StoragePluginConfig,org.apache.drill.common.logical.FormatPluginConfig,java.lang.Class)">
<h3>resolveFormat</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;T extends <a href="dfs/FormatPlugin.html" title="interface in org.apache.drill.exec.store.dfs">FormatPlugin</a>&gt;</span>&nbsp;<span class="return-type">T</span>&nbsp;<span class="element-name">resolveFormat</span><wbr><span class="parameters">(<a href="../../common/logical/StoragePluginConfig.html" title="class in org.apache.drill.common.logical">StoragePluginConfig</a>&nbsp;storageConfig,
 <a href="../../common/logical/FormatPluginConfig.html" title="interface in org.apache.drill.common.logical">FormatPluginConfig</a>&nbsp;formatConfig,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;desired)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoragePluginRegistry.html#resolveFormat(org.apache.drill.common.logical.StoragePluginConfig,org.apache.drill.common.logical.FormatPluginConfig,java.lang.Class)">StoragePluginRegistry</a></code></span></div>
<div class="block">Resolve a storage plugin given a storage plugin config. Call from
 within a file storage plugin to resolve the plugin.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#resolveFormat(org.apache.drill.common.logical.StoragePluginConfig,org.apache.drill.common.logical.FormatPluginConfig,java.lang.Class)">resolveFormat</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
<dt>Type Parameters:</dt>
<dd><code>T</code> - the required type of the plugin</dd>
<dt>Parameters:</dt>
<dd><code>storageConfig</code> - storage plugin config</dd>
<dd><code>formatConfig</code> - format plugin config</dd>
<dd><code>desired</code> - desired target class</dd>
<dt>Returns:</dt>
<dd>the storage plugin</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="availablePlugins()">
<h3>availablePlugins</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">availablePlugins</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="StoragePluginRegistry.html#availablePlugins()">StoragePluginRegistry</a></code></span></div>
<div class="block">Returns the set of available plugin names.
 Includes system plugins and enabled stored plugins.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="StoragePluginRegistry.html#availablePlugins()">availablePlugins</a></code>&nbsp;in interface&nbsp;<code><a href="StoragePluginRegistry.html" title="interface in org.apache.drill.exec.store">StoragePluginRegistry</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2023 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
