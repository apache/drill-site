<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>RowSetLoader (Drill : 1.21.2-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.drill.exec.physical.resultSet, interface: RowSetLoader">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/RowSetLoader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.drill.exec.physical.resultSet</a></div>
<h1 title="Interface RowSetLoader" class="title">Interface RowSetLoader</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="../../vector/accessor/ColumnWriter.html" title="interface in org.apache.drill.exec.vector.accessor">ColumnWriter</a></code>, <code><a href="../../vector/accessor/TupleWriter.html" title="interface in org.apache.drill.exec.vector.accessor">TupleWriter</a></code></dd>
</dl>
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="impl/RowSetLoaderImpl.html" title="class in org.apache.drill.exec.physical.resultSet.impl">RowSetLoaderImpl</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">RowSetLoader</span><span class="extends-implements">
extends <a href="../../vector/accessor/TupleWriter.html" title="interface in org.apache.drill.exec.vector.accessor">TupleWriter</a></span></div>
<div class="block">Interface for writing values to a row set. Only available for newly-created
 single row sets.
 <p>
 Typical usage:

 <pre></code>
 void writeABatch() {
   RowSetLoader writer = ...
   while (! writer.isFull()) {
     writer.start();
     writer.scalar(0).setInt(10);
     writer.scalar(1).setString("foo");
     ...
     writer.save();
   }
 }</code></pre>
 Alternative usage:

 <pre></code>
 void writeABatch() {
   RowSetLoader writer = ...
   while (writer.start()) {
     writer.scalar(0).setInt(10);
     writer.scalar(1).setString("foo");
     ...
     writer.save();
   }
 }</code></pre>

 The above writes until the batch is full, based on size or vector overflow.
 That is, the details of vector overflow are hidden from the code that calls
 the writer.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="inherited-list">
<h2 id="nested-classes-inherited-from-class-org.apache.drill.exec.vector.accessor.TupleWriter">Nested classes/interfaces inherited from interface&nbsp;org.apache.drill.exec.vector.accessor.<a href="../../vector/accessor/TupleWriter.html" title="interface in org.apache.drill.exec.vector.accessor">TupleWriter</a></h2>
<code><a href="../../vector/accessor/TupleWriter.UndefinedColumnException.html" title="class in org.apache.drill.exec.vector.accessor">TupleWriter.UndefinedColumnException</a></code></div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab6" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab6', 3)" class="table-tab">Deprecated Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="RowSetLoader.html" title="interface in org.apache.drill.exec.physical.resultSet">RowSetLoader</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#addRow(java.lang.Object...)" class="member-name-link">addRow</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>...&nbsp;values)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Write a row of values, given by Java objects.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="RowSetLoader.html" title="interface in org.apache.drill.exec.physical.resultSet">RowSetLoader</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#addSingleCol(java.lang.Object)" class="member-name-link">addSingleCol</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;value)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Similar to <a href="#addRow(java.lang.Object...)"><code>addRow(Object...)</code></a>, but for the odd case in which a
 row consists of a single column that is an object array (such as for
 a list or map) and so is ambiguous.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#isFull()" class="member-name-link">isFull</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Indicates that no more rows fit into the current row batch and that the row
 batch should be harvested and sent downstream.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3 method-summary-table-tab6"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3 method-summary-table-tab6"><code><a href="#limitReached(int)" class="member-name-link">limitReached</a><wbr>(int&nbsp;maxRecords)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span></div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="ResultSetLoader.html" title="interface in org.apache.drill.exec.physical.resultSet">ResultSetLoader</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#loader()" class="member-name-link">loader</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#rowCount()" class="member-name-link">rowCount</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">The number of rows in the current row set.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#rowIndex()" class="member-name-link">rowIndex</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">The index of the current row.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#save()" class="member-name-link">save</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Saves the current row and moves to the next row.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#start()" class="member-name-link">start</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Prepare a new row for writing.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.drill.exec.vector.accessor.ColumnWriter">Methods inherited from interface&nbsp;org.apache.drill.exec.vector.accessor.<a href="../../vector/accessor/ColumnWriter.html" title="interface in org.apache.drill.exec.vector.accessor">ColumnWriter</a></h3>
<code><a href="../../vector/accessor/ColumnWriter.html#copy(org.apache.drill.exec.vector.accessor.ColumnReader)">copy</a>, <a href="../../vector/accessor/ColumnWriter.html#isProjected()">isProjected</a>, <a href="../../vector/accessor/ColumnWriter.html#nullable()">nullable</a>, <a href="../../vector/accessor/ColumnWriter.html#schema()">schema</a>, <a href="../../vector/accessor/ColumnWriter.html#setNull()">setNull</a>, <a href="../../vector/accessor/ColumnWriter.html#setObject(java.lang.Object)">setObject</a>, <a href="../../vector/accessor/ColumnWriter.html#type()">type</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.drill.exec.vector.accessor.TupleWriter">Methods inherited from interface&nbsp;org.apache.drill.exec.vector.accessor.<a href="../../vector/accessor/TupleWriter.html" title="interface in org.apache.drill.exec.vector.accessor">TupleWriter</a></h3>
<code><a href="../../vector/accessor/TupleWriter.html#addColumn(org.apache.drill.exec.record.MaterializedField)">addColumn</a>, <a href="../../vector/accessor/TupleWriter.html#addColumn(org.apache.drill.exec.record.metadata.ColumnMetadata)">addColumn</a>, <a href="../../vector/accessor/TupleWriter.html#array(int)">array</a>, <a href="../../vector/accessor/TupleWriter.html#array(java.lang.String)">array</a>, <a href="../../vector/accessor/TupleWriter.html#column(int)">column</a>, <a href="../../vector/accessor/TupleWriter.html#column(java.lang.String)">column</a>, <a href="../../vector/accessor/TupleWriter.html#dict(int)">dict</a>, <a href="../../vector/accessor/TupleWriter.html#dict(java.lang.String)">dict</a>, <a href="../../vector/accessor/TupleWriter.html#isProjected(java.lang.String)">isProjected</a>, <a href="../../vector/accessor/TupleWriter.html#scalar(int)">scalar</a>, <a href="../../vector/accessor/TupleWriter.html#scalar(java.lang.String)">scalar</a>, <a href="../../vector/accessor/TupleWriter.html#set(int,java.lang.Object)">set</a>, <a href="../../vector/accessor/TupleWriter.html#size()">size</a>, <a href="../../vector/accessor/TupleWriter.html#tuple(int)">tuple</a>, <a href="../../vector/accessor/TupleWriter.html#tuple(java.lang.String)">tuple</a>, <a href="../../vector/accessor/TupleWriter.html#tupleSchema()">tupleSchema</a>, <a href="../../vector/accessor/TupleWriter.html#type(int)">type</a>, <a href="../../vector/accessor/TupleWriter.html#type(java.lang.String)">type</a>, <a href="../../vector/accessor/TupleWriter.html#variant(int)">variant</a>, <a href="../../vector/accessor/TupleWriter.html#variant(java.lang.String)">variant</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="loader()">
<h3>loader</h3>
<div class="member-signature"><span class="return-type"><a href="ResultSetLoader.html" title="interface in org.apache.drill.exec.physical.resultSet">ResultSetLoader</a></span>&nbsp;<span class="element-name">loader</span>()</div>
</section>
</li>
<li>
<section class="detail" id="addRow(java.lang.Object...)">
<h3>addRow</h3>
<div class="member-signature"><span class="return-type"><a href="RowSetLoader.html" title="interface in org.apache.drill.exec.physical.resultSet">RowSetLoader</a></span>&nbsp;<span class="element-name">addRow</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>...&nbsp;values)</span></div>
<div class="block">Write a row of values, given by Java objects. Object type must match
 expected column type. Stops writing, and returns false, if any value causes
 vector overflow. Value format:
 <ul>
 <li>For scalars, the value as a suitable Java type (int or Integer, say,
 for <tt>INTEGER</tt> values.)</li>
 <li>For scalar arrays, an array of a suitable Java primitive type for
 scalars. For example, <tt>int[]</tt> for an <tt>INTEGER</tt> column.</li>
 <li>For a Map, an <tt>Object<tt> array with values encoded as above.
 (In fact, the list here is the same as the map format.</li>
 <li>For a list (repeated map, list of list), an <tt>Object</tt> array with
 values encoded as above. (So, for a repeated map, an outer <tt>Object</tt>
 map encodes the array, an inner one encodes the map members.</li>
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>values</code> - variable-length argument list of column values</dd>
<dt>Returns:</dt>
<dd>this writer</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addSingleCol(java.lang.Object)">
<h3>addSingleCol</h3>
<div class="member-signature"><span class="return-type"><a href="RowSetLoader.html" title="interface in org.apache.drill.exec.physical.resultSet">RowSetLoader</a></span>&nbsp;<span class="element-name">addSingleCol</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;value)</span></div>
<div class="block">Similar to <a href="#addRow(java.lang.Object...)"><code>addRow(Object...)</code></a>, but for the odd case in which a
 row consists of a single column that is an object array (such as for
 a list or map) and so is ambiguous.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>value</code> - value of the one and only column</dd>
<dt>Returns:</dt>
<dd>this writer</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isFull()">
<h3>isFull</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">isFull</span>()</div>
<div class="block">Indicates that no more rows fit into the current row batch and that the row
 batch should be harvested and sent downstream. Any overflow row is
 automatically saved for the next cycle. The value is undefined when a batch
 is not active.
 <p>
 Will be false on the first row, and all subsequent rows until either the
 maximum number of rows are written, or a vector overflows. After that, will
 return true. The method returns false as soon as any column writer
 overflows even in the middle of a row write. That is, this writer does not
 automatically handle overflow rows because that added complexity is seldom
 needed for tests.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if another row can be written, false if not</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="limitReached(int)">
<h3>limitReached</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
</span><span class="return-type">boolean</span>&nbsp;<span class="element-name">limitReached</span><wbr><span class="parameters">(int&nbsp;maxRecords)</span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span></div>
<div class="block">Used to push a limit down to the file reader. This method checks to see whether
 the maxRecords parameter is not zero (for no limit) and is not greater than the
 current record count.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>maxRecords</code> - Maximum rows to be returned. (From the limit clause of the query)</dd>
<dt>Returns:</dt>
<dd>True if the row count exceeds the maxRecords, false if not.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="rowCount()">
<h3>rowCount</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">rowCount</span>()</div>
<div class="block">The number of rows in the current row set. Does not count any overflow row
 saved for the next batch.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>number of rows to be sent downstream</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="rowIndex()">
<h3>rowIndex</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">rowIndex</span>()</div>
<div class="block">The index of the current row. Same as the row count except in an overflow
 row in which case the row index will revert to zero as soon as any vector
 overflows. Note: this means that the index can change between columns in a
 single row. Applications usually don't use this index directly; rely on the
 writers to write to the proper location.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the current write index</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="start()">
<h3>start</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">start</span>()</div>
<div class="block">Prepare a new row for writing. Call this before each row.
 <p>
 Handles a very special case: that of discarding the last row written.
 A reader can read a row into vectors, then "sniff" the row to check,
 for example, against a filter. If the row is not wanted, simply omit
 the call to <tt>save()</tt> and the next all to <tt>start()</tt> will
 discard the unsaved row.
 <p>
 Note that the vectors still contain values in the
 discarded position; just the various pointers are unset. If
 the batch ends before the discarded values are overwritten, the
 discarded values just exist at the end of the vector. Since vectors
 start with garbage contents, the discarded values are simply a different
 kind of garbage. But, if the client writes a new row, then the new
 row overwrites the discarded row. This works because we only change
 the tail part of a vector; never the internals.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if another row can be added, false if the batch is full</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="save()">
<h3>save</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">save</span>()</div>
<div class="block">Saves the current row and moves to the next row. Failing to call this
 method effectively abandons the in-flight row; something that may be useful
 to recover from partially-written rows that turn out to contain errors.
 Done automatically if using <tt>setRow()</tt>.</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2023 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
