<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>ManagedReader (Drill : 1.21.2-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.drill.exec.physical.impl.scan.v3, interface: ManagedReader">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ManagedReader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.drill.exec.physical.impl.scan.v3</a></div>
<h1 title="Interface ManagedReader" class="title">Interface ManagedReader</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="../../../../store/avro/AvroBatchReader.html" title="class in org.apache.drill.exec.store.avro">AvroBatchReader</a></code>, <code><a href="../../../../store/easy/text/reader/CompliantTextBatchReader.html" title="class in org.apache.drill.exec.store.easy.text.reader">CompliantTextBatchReader</a></code>, <code><a href="../../../../store/excel/ExcelBatchReader.html" title="class in org.apache.drill.exec.store.excel">ExcelBatchReader</a></code>, <code><a href="../../../../store/httpd/HttpdLogBatchReader.html" title="class in org.apache.drill.exec.store.httpd">HttpdLogBatchReader</a></code>, <code><a href="../../../../store/log/LogBatchReader.html" title="class in org.apache.drill.exec.store.log">LogBatchReader</a></code>, <code><a href="../../../../store/ltsv/LTSVBatchReader.html" title="class in org.apache.drill.exec.store.ltsv">LTSVBatchReader</a></code>, <code><a href="../../../../store/msaccess/MSAccessBatchReader.html" title="class in org.apache.drill.exec.store.msaccess">MSAccessBatchReader</a></code>, <code><a href="../../../../store/pcap/PcapBatchReader.html" title="class in org.apache.drill.exec.store.pcap">PcapBatchReader</a></code>, <code><a href="../../../../store/pcapng/PcapngBatchReader.html" title="class in org.apache.drill.exec.store.pcapng">PcapngBatchReader</a></code>, <code><a href="../../../../store/pdf/PdfBatchReader.html" title="class in org.apache.drill.exec.store.pdf">PdfBatchReader</a></code>, <code><a href="../../../../store/sas/SasBatchReader.html" title="class in org.apache.drill.exec.store.sas">SasBatchReader</a></code>, <code><a href="../../../../store/easy/sequencefile/SequenceFileBatchReader.html" title="class in org.apache.drill.exec.store.easy.sequencefile">SequenceFileBatchReader</a></code>, <code><a href="../../../../store/esri/ShpBatchReader.html" title="class in org.apache.drill.exec.store.esri">ShpBatchReader</a></code>, <code><a href="../../../../store/spss/SpssBatchReader.html" title="class in org.apache.drill.exec.store.spss">SpssBatchReader</a></code>, <code><a href="../../../../store/syslog/SyslogBatchReader.html" title="class in org.apache.drill.exec.store.syslog">SyslogBatchReader</a></code>, <code><a href="../../../../store/xml/XMLBatchReader.html" title="class in org.apache.drill.exec.store.xml">XMLBatchReader</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">ManagedReader</span></div>
<div class="block">Extended version of a record reader which uses a size-aware batch mutator.
 Use this for all new readers. Replaces the original
 <a href="../../../../store/RecordReader.html" title="interface in org.apache.drill.exec.store"><code>RecordReader</code></a> interface.
 <p>
 This interface is used to create readers that work with the projection
 mechanism to provide services for handling projection, setting up the result
 set loader, handling schema smoothing, sharing vectors across batches, etc.
 <p>
 Note that this interface reads a <b>batch</b> of rows, not a single row. (The
 original <code>RecordReader</code> could be confusing in this aspect.)
 <p>
 The expected lifecycle is:
 <ul>
 <li>The reader factory creates the reader just before using it. (Unlike
 the old <code>ScanBatch</code> which created all readers at the start of the
 scan.)</li>
 <li>Constructor: open the reader using the
 <a href="SchemaNegotiator.html" title="interface in org.apache.drill.exec.physical.impl.scan.v3"><code>SchemaNegotiator</code></a> to configure the
 scanner framework for this reader by specifying a schema (if known), desired
 row counts and other configuration options. Call <a href="SchemaNegotiator.html#build()"><code>SchemaNegotiator.build()</code></a>
 to obtain a <a href="../../../resultSet/RowSetLoader.html" title="interface in org.apache.drill.exec.physical.resultSet"><code>RowSetLoader</code></a>
 to use to capture the rows that the reader reads.</li>
 <li><a href="#next()"><code>next()</code></a>: called for each batch. The batch is written using the
 result set loader obtained above. The scanner framework handles details of
 tracking version changes, handling overflow, limiting record counts, and
 so on. Return <tt>true</tt> to indicate a batch is available, <tt>false</tt>
 to indicate EOF. The first call to <tt>next()</tt> can return <tt>false</tt>
 if the data source has no rows.</li>
 <li><a href="#close()"><code>close()</code></a>: called to release resources. May be called before
 <tt>next()</tt> returns </tt>false</tt>.</li>
 <p>
 If an error occurs, the reader can throw a <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html" title="class or interface in java.lang" class="external-link"><code>RuntimeException</code></a>
 from any method. A <tt>UserException</tt> is preferred to provide
 detailed information about the source of the problem.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Interface</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="ManagedReader.EarlyEofException.html" class="type-name-link" title="class in org.apache.drill.exec.physical.impl.scan.v3">ManagedReader.EarlyEofException</a></code></div>
<div class="col-last even-row-color">
<div class="block">Exception thrown from the constructor if the data source is empty and
 can produce no data or schema.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Release resources.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#next()" class="member-name-link">next</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Read the next batch.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="next()">
<h3>next</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">next</span>()</div>
<div class="block">Read the next batch. Reading continues until either EOF,
 or until the mutator indicates that the batch is full.
 The batch is considered valid if it is non-empty. Returning
 <tt>true</tt> with an empty batch is valid, and is helpful on
 the very first batch (returning schema only.) An empty batch
 with a <tt>false</tt> return code indicates EOF and the batch
 will be discarded. A non-empty batch along with a <tt>false</tt>
 return result indicates a final, valid batch, but that EOF was
 reached and no more data is available.
 <p>
 This somewhat complex protocol avoids the need to allocate a
 final batch just to find out that no more data is available;
 it allows EOF to be returned along with the final batch.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><tt>true</tt> if more data may be available (and so
 <tt>next()</tt> should be called again, <tt>false</tt> to indicate
 that EOF was reached</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html" title="class or interface in java.lang" class="external-link">RuntimeException</a></code> - (<tt>UserException</tt> preferred) if an
 error occurs that should fail the query.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()</div>
<div class="block">Release resources. Called just after a failure, when the scanner
 is cancelled, or after <tt>next()</tt> returns EOF. Release
 all resources and close files. Guaranteed to be called if
 <tt>open()</tt> returns normally; will not be called if <tt>open()</tt>
 throws an exception.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html" title="class or interface in java.lang" class="external-link">RuntimeException</a></code> - (<tt>UserException</tt> preferred) if an
 error occurs that should fail the query.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2023 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
